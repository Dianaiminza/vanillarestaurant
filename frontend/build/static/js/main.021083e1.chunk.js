(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{151:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(3),s=n(28),i=n.n(s),o=(n(97),n(43)),l=n(5),d=n(11),j=(n(98),n(4)),u=n(6),b=n.n(u),h=n(8),O="PRODUCT_LIST_REQUEST",p="PRODUCT_LIST_SUCCESS",x="PRODUCT_LIST_FAIL",m="PRODUCT_DETAILS_REQUEST",f="PRODUCT_DETAILS_SUCCESS",v="PRODUCT_DETAILS_FAIL",g="PRODUCT_SAVE_REQUEST",y="PRODUCT_SAVE_SUCCESS",S="PRODUCT_SAVE_FAIL",E="PRODUCT_DELETE_REQUEST",N="PRODUCT_DELETE_SUCCESS",_="PRODUCT_DELETE_FAIL",C="PRODUCT_REVIEW_SAVE_REQUEST",w="PRODUCT_REVIEW_SAVE_SUCCESS",R="PRODUCT_REVIEW_SAVE_FAIL",I="PRODUCT_REVIEW_SAVE_RESET",k=n(7),D=n.n(k),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var r=Object(h.a)(b.a.mark((function r(c){var a,s;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:O}),r.next=4,D.a.get("/api/products?category="+e+"&searchKeyword="+t+"&sortOrder="+n);case 4:a=r.sent,s=a.data,c({type:p,payload:s}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),c({type:x,payload:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},P=n(0);function T(e){return e.value?Object(P.jsxs)("div",{className:"rating",children:[Object(P.jsx)("span",{children:Object(P.jsx)("i",{className:e.value>=1?"fa fa-star":e.value>=.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(P.jsx)("span",{children:Object(P.jsx)("i",{className:e.value>=2?"fa fa-star":e.value>=1.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(P.jsx)("span",{children:Object(P.jsx)("i",{className:e.value>=3?"fa fa-star":e.value>=2.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(P.jsx)("span",{children:Object(P.jsx)("i",{className:e.value>=4?"fa fa-star":e.value>=3.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(P.jsx)("span",{children:Object(P.jsx)("i",{className:e.value>=5?"fa fa-star":e.value>=4.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(P.jsx)("span",{children:e.text?e.text:""})]}):Object(P.jsx)("div",{})}var U=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),o=Object(j.a)(i,2),d=o[0],u=o[1],b=e.match.params.id?e.match.params.id:"",h=Object(a.c)((function(e){return e.productList})),O=h.products,p=h.loading,x=h.error,m=Object(a.b)();return Object(r.useEffect)((function(){return m(A(b)),function(){}}),[b]),Object(P.jsxs)(P.Fragment,{children:[b&&Object(P.jsx)("h2",{children:b}),Object(P.jsxs)("ul",{className:"filter",children:[Object(P.jsx)("li",{children:Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(A(b,c,d))},children:[Object(P.jsx)("input",{name:"searchKeyword",onChange:function(e){return s(e.target.value)}}),Object(P.jsx)("button",{type:"submit",children:"Search"})]})}),Object(P.jsxs)("li",{children:["Sort By"," ",Object(P.jsxs)("select",{name:"sortOrder",onChange:function(e){u(e.target.value),m(A(b,c,d))},children:[Object(P.jsx)("option",{value:"",children:"Newest"}),Object(P.jsx)("option",{value:"lowest",children:"Lowest"}),Object(P.jsx)("option",{value:"highest",children:"Highest"})]})]})]}),p?Object(P.jsx)("div",{children:"Loading..."}):x?Object(P.jsx)("div",{children:x}):Object(P.jsx)("ul",{className:"products",children:O.map((function(e){return Object(P.jsx)("li",{children:Object(P.jsxs)("div",{className:"product",children:[Object(P.jsx)(l.b,{to:"/product/"+e._id,children:Object(P.jsx)("img",{className:"product-image",src:e.image,alt:"product"})}),Object(P.jsx)("div",{className:"product-name",children:Object(P.jsx)(l.b,{to:"/product/"+e._id,children:e.name})}),Object(P.jsx)("div",{className:"product-brand",children:e.brand}),Object(P.jsxs)("div",{className:"product-price",children:["Ksh",e.price]}),Object(P.jsx)("div",{className:"product-rating",children:Object(P.jsx)(T,{value:e.rating,text:e.numReviews+" reviews"})})]})},e._id)}))})]})},L=n(12);var F=function(e){var t=Object(r.useState)(1),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(0),o=Object(j.a)(i,2),d=o[0],u=o[1],O=Object(r.useState)(""),p=Object(j.a)(O,2),x=p[0],g=p[1],y=Object(a.c)((function(e){return e.userSignin})).userInfo,S=Object(a.c)((function(e){return e.productDetails})),E=S.product,N=S.loading,_=S.error,k=Object(a.c)((function(e){return e.productReviewSave})).success,A=Object(a.b)();return Object(r.useEffect)((function(){var t;return k&&(alert("Review submitted successfully."),u(0),g(""),A({type:I})),A((t=e.match.params.id,function(){var e=Object(h.a)(b.a.mark((function e(n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:m,payload:t}),e.next=4,D.a.get("/api/products/"+t);case 4:r=e.sent,c=r.data,n({type:f,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:v,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),function(){}}),[k]),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"back-to-result",children:Object(P.jsx)(l.b,{to:"/",children:"Back to result"})}),N?Object(P.jsx)("div",{children:"Loading..."}):_?Object(P.jsxs)("div",{children:[_," "]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"details",children:[Object(P.jsx)("div",{className:"details-image",children:Object(P.jsx)("img",{src:E.image,alt:"product"})}),Object(P.jsx)("div",{className:"details-info",children:Object(P.jsxs)("ul",{children:[Object(P.jsx)("li",{children:Object(P.jsx)("h4",{children:E.name})}),Object(P.jsx)("li",{children:Object(P.jsx)("a",{href:"#reviews",children:Object(P.jsx)(T,{value:E.rating,text:E.numReviews+" reviews"})})}),Object(P.jsxs)("li",{children:["Price: ",Object(P.jsxs)("b",{children:["Ksh",E.price]})]}),Object(P.jsxs)("li",{children:["Description:",Object(P.jsx)("div",{children:E.description})]})]})}),Object(P.jsx)("div",{className:"details-action",children:Object(P.jsxs)("ul",{children:[Object(P.jsxs)("li",{children:["Price: ",E.price]}),Object(P.jsxs)("li",{children:["Status:"," ",E.countInStock>0?"In Stock":"Unavailable."]}),Object(P.jsxs)("li",{children:["Qty:"," ",Object(P.jsx)("select",{value:c,onChange:function(e){s(e.target.value)},children:Object(L.a)(Array(E.countInStock).keys()).map((function(e){return Object(P.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(P.jsx)("li",{children:E.countInStock>0&&Object(P.jsx)("button",{onClick:function(){e.history.push("/cart/"+e.match.params.id+"?qty="+c)},className:"button primary",children:"Add to Cart"})})]})})]}),Object(P.jsxs)("div",{className:"content-margined",children:[Object(P.jsx)("h2",{children:"Reviews"}),!E.reviews.length&&Object(P.jsx)("div",{children:"There is no review"}),Object(P.jsxs)("ul",{className:"review",id:"reviews",children:[E.reviews.map((function(e){return Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{children:e.name}),Object(P.jsx)("div",{children:Object(P.jsx)(T,{value:e.rating})}),Object(P.jsx)("div",{children:e.createdAt.substring(0,10)}),Object(P.jsx)("div",{children:e.comment})]},e._id)})),Object(P.jsxs)("li",{children:[Object(P.jsx)("h3",{children:"Write a customer review"}),y?Object(P.jsx)("form",{onSubmit:function(t){var n,r;t.preventDefault(),A((n=e.match.params.id,r={name:y.name,rating:d,comment:x},function(){var e=Object(h.a)(b.a.mark((function e(t,c){var a,s,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=c(),s=a.userSignin.userInfo.token,t({type:C,payload:r}),e.next=5,D.a.post("/api/products/".concat(n,"/reviews"),r,{headers:{Authorization:"Bearer "+s}});case 5:i=e.sent,o=i.data,t({type:w,payload:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:R,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()))},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"rating",children:"Rating"}),Object(P.jsxs)("select",{name:"rating",id:"rating",value:d,onChange:function(e){return u(e.target.value)},children:[Object(P.jsx)("option",{value:"1",children:"1- Poor"}),Object(P.jsx)("option",{value:"2",children:"2- Fair"}),Object(P.jsx)("option",{value:"3",children:"3- Good"}),Object(P.jsx)("option",{value:"4",children:"4- Very Good"}),Object(P.jsx)("option",{value:"5",children:"5- Excelent"})]})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"comment",children:"Comment"}),Object(P.jsx)("textarea",{name:"comment",value:x,onChange:function(e){return g(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:"Submit"})})]})}):Object(P.jsxs)("div",{children:["Please ",Object(P.jsx)(l.b,{to:"/signin",children:"Sign-in"})," to write a review."]})]})]})]})]})]})},M=n(22),B=n.n(M),V="CART_ADD_ITEM",Q="CART_REMOVE_ITEM",K="CART_SAVE_SHIPPING",z="CART_SAVE_PAYMENT",G=function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(r,c){var a,s,i,o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D.a.get("/api/products/"+e);case 3:a=n.sent,s=a.data,r({type:V,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),i=c(),o=i.cart.cartItems,B.a.set("cartItems",JSON.stringify(o)),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(0);case 12:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()};var Y=function(e){var t=Object(a.c)((function(e){return e.cart})).cartItems,n=e.match.params.id,c=e.location.search?Number(e.location.search.split("=")[1]):1,s=Object(a.b)(),i=function(e){s(function(e){return function(t,n){t({type:Q,payload:e});var r=n().cart.cartItems;B.a.set("cartItems",JSON.stringify(r))}}(e))};return Object(r.useEffect)((function(){n&&s(G(n,c))}),[s,n,c]),Object(P.jsxs)("div",{className:"cart",children:[Object(P.jsx)("div",{className:"cart-list",children:Object(P.jsxs)("ul",{className:"cart-list-container",children:[Object(P.jsxs)("li",{children:[Object(P.jsx)("h3",{children:"Shopping Cart"}),Object(P.jsx)("div",{children:"Price"})]}),0===t.length?Object(P.jsx)("div",{children:"Cart is empty"}):t.map((function(e){return Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{className:"cart-image",children:Object(P.jsx)("img",{src:e.image,alt:"product"})}),Object(P.jsxs)("div",{className:"cart-name",children:[Object(P.jsx)("div",{children:Object(P.jsx)(l.b,{to:"/product"+e.product,children:e.name})}),Object(P.jsxs)("div",{children:["Qty:",Object(P.jsx)("select",{value:e.qty,onChange:function(t){return s(G(e.product,t.target.value))},children:Object(L.a)(Array(e.countInStock).keys()).map((function(e){return Object(P.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(P.jsx)("button",{type:"button",className:"button",onClick:function(){return i(e.product)},children:"Delete"})]})]}),Object(P.jsxs)("div",{className:"cart-price",children:["Ksh",e.price]})]})}))]})}),Object(P.jsxs)("div",{className:"cart-action",children:[Object(P.jsxs)("h3",{children:["Subtotal ( ",t.reduce((function(e,t){return e+t.qty}),0)," items) : Ksh ",t.reduce((function(e,t){return e+t.price*t.qty}),0)]}),Object(P.jsx)("button",{onClick:function(){e.history.push("/signin?redirect=shipping")},className:"button primary full-width",disabled:0===t.length,children:"Proceed to Checkout"})]})]})},J="USER_SIGNIN_REQUEST",q="USER_SIGNIN_SUCCESS",W="USER_SIGNIN_FAIL",H="USER_UPDATE_REQUEST",X="USER_UPDATE_SUCCESS",Z="USER_UPDATE_FAIL",$="USER_REGISTER_REQUEST",ee="USER_REGISTER_SUCCESS",te="USER_REGISTER_FAIL",ne="USER_LOGOUT",re="USER_ADDRESS_MAP_CONFIRM";var ce=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),o=Object(j.a)(i,2),d=o[0],u=o[1],O=Object(a.c)((function(e){return e.userSignin})),p=O.loading,x=O.userInfo,m=O.error,f=Object(a.b)(),v=e.location.search?e.location.search.split("=")[1]:"/";return Object(r.useEffect)((function(){return x&&e.history.push(v),function(){}}),[x]),Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(e){e.preventDefault(),f(function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(r){var c,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:J,payload:{email:e,password:t}}),n.prev=1,n.next=4,D.a.post("/api/users/signin",{email:e,password:t});case 4:c=n.sent,a=c.data,r({type:q,payload:a}),B.a.set("userInfo",JSON.stringify(a)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),r({type:W,payload:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}(c,d))},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Sign-In"})}),Object(P.jsxs)("li",{children:[p&&Object(P.jsx)("div",{children:"Loading..."}),m&&Object(P.jsx)("div",{children:m})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email"}),Object(P.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return s(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password"}),Object(P.jsx)("input",{type:"password",id:"password",name:"password",onChange:function(e){return u(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:"Signin"})}),Object(P.jsx)("li",{children:"New to Vanilla Restaurant?"}),Object(P.jsx)("li",{children:Object(P.jsx)(l.b,{to:"/"===v?"register":"register?redirect="+v,className:"button secondary text-center",children:"Create your Vanilla Restaurant account"})})]})})})};var ae=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),o=Object(j.a)(i,2),d=o[0],u=o[1],O=Object(r.useState)(""),p=Object(j.a)(O,2),x=p[0],m=p[1],f=Object(r.useState)(""),v=Object(j.a)(f,2),g=(v[0],v[1]),y=Object(a.c)((function(e){return e.userRegister})),S=y.loading,E=y.userInfo,N=y.error,_=Object(a.b)(),C=e.location.search?e.location.search.split("=")[1]:"/";return Object(r.useEffect)((function(){return E&&e.history.push(C),function(){}}),[E]),Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(e){e.preventDefault(),_(function(e,t,n){return function(){var r=Object(h.a)(b.a.mark((function r(c){var a,s;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:$,payload:{name:e,email:t,password:n}}),r.prev=1,r.next=4,D.a.post("/api/users/register",{name:e,email:t,password:n});case 4:a=r.sent,s=a.data,c({type:ee,payload:s}),B.a.set("userInfo",JSON.stringify(s)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),c({type:te,payload:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}(c,d,x))},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Create Account"})}),Object(P.jsxs)("li",{children:[S&&Object(P.jsx)("div",{children:"Loading..."}),N&&Object(P.jsx)("div",{children:N})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"name",children:"Name"}),Object(P.jsx)("input",{type:"name",name:"name",id:"name",onChange:function(e){return s(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email"}),Object(P.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return u(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password"}),Object(P.jsx)("input",{type:"password",id:"password",name:"password",onChange:function(e){return m(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"rePassword",children:"Re-Enter Password"}),Object(P.jsx)("input",{type:"password",id:"rePassword",name:"rePassword",onChange:function(e){return g(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:"Register"})}),Object(P.jsxs)("li",{children:["Already have an account?",Object(P.jsx)(l.b,{to:"/"===C?"signin":"signin?redirect="+C,className:"button secondary text-center",children:"Sign In"})]})]})})})};var se=function(e){var t=Object(r.useState)(!1),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(""),O=Object(j.a)(u,2),p=O[0],x=O[1],m=Object(r.useState)(""),f=Object(j.a)(m,2),v=f[0],C=f[1],w=Object(r.useState)(""),R=Object(j.a)(w,2),I=R[0],k=R[1],T=Object(r.useState)(""),U=Object(j.a)(T,2),L=U[0],F=U[1],M=Object(r.useState)(""),B=Object(j.a)(M,2),V=B[0],Q=B[1],K=Object(r.useState)(""),z=Object(j.a)(K,2),G=z[0],Y=z[1],J=Object(r.useState)(""),q=Object(j.a)(J,2),W=q[0],H=q[1],X=Object(r.useState)(!1),Z=Object(j.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.c)((function(e){return e.productList})),ne=(te.loading,te.products),re=(te.error,Object(a.c)((function(e){return e.productSave}))),ce=re.loading,ae=re.success,se=re.error,ie=Object(a.c)((function(e){return e.productDelete})),oe=(ie.loading,ie.success),le=(ie.error,Object(a.b)());Object(r.useEffect)((function(){return ae&&s(!1),le(A()),function(){}}),[ae,oe]);var de=function(e){s(!0),d(e._id),x(e.name),C(e.price),H(e.description),k(e.image),F(e.brand),Q(e.category),Y(e.countInStock)},je=function(e){var t;le((t=e._id,function(){var e=Object(h.a)(b.a.mark((function e(n,r){var c,a,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=r(),a=c.userSignin.userInfo,n({type:E,payload:t}),e.next=5,D.a.delete("/api/products/"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,n({type:N,payload:i,success:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n({type:_,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()))};return Object(P.jsxs)("div",{className:"content content-margined",children:[Object(P.jsxs)("div",{className:"product-header",children:[Object(P.jsx)("h3",{children:"Products"}),Object(P.jsx)("button",{className:"button primary",onClick:function(){return de({})},children:"Create Product"})]}),c&&Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(e){var t;e.preventDefault(),le((t={_id:l,name:p,price:v,image:I,brand:L,category:V,countInStock:G,description:W},function(){var e=Object(h.a)(b.a.mark((function e(n,r){var c,a,s,i,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n({type:g,payload:t}),c=r(),a=c.userSignin.userInfo,t._id){e.next=11;break}return e.next=6,D.a.post("/api/products",t,{headers:{Authorization:"Bearer "+a.token}});case 6:s=e.sent,i=s.data,n({type:y,payload:i}),e.next=16;break;case 11:return e.next=13,D.a.put("/api/products/"+t._id,t,{headers:{Authorization:"Bearer "+a.token}});case 13:o=e.sent,l=o.data,n({type:y,payload:l});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),n({type:S,payload:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}()))},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Create Product"})}),Object(P.jsxs)("li",{children:[ce&&Object(P.jsx)("div",{children:"Loading..."}),se&&Object(P.jsx)("div",{children:se})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"name",children:"Name"}),Object(P.jsx)("input",{type:"text",name:"name",value:p,id:"name",onChange:function(e){return x(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"price",children:"Price"}),Object(P.jsx)("input",{type:"text",name:"price",value:v,id:"price",onChange:function(e){return C(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"image",children:"Image"}),Object(P.jsx)("input",{type:"text",name:"image",value:I,id:"image",onChange:function(e){return k(e.target.value)}}),Object(P.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FormData;n.append("image",t),ee(!0),D.a.post("/api/uploads",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){k(e.data),ee(!1)})).catch((function(e){console.log(e),ee(!1)}))}}),$&&Object(P.jsx)("div",{children:"Uploading..."})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"brand",children:"Brand"}),Object(P.jsx)("input",{type:"text",name:"brand",value:L,id:"brand",onChange:function(e){return F(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"countInStock",children:"CountInStock"}),Object(P.jsx)("input",{type:"text",name:"countInStock",value:G,id:"countInStock",onChange:function(e){return Y(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"name",children:"Category"}),Object(P.jsx)("input",{type:"text",name:"category",value:V,id:"category",onChange:function(e){return Q(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"description",children:"Description"}),Object(P.jsx)("textarea",{name:"description",value:W,id:"description",onChange:function(e){return H(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:l?"Update":"Create"})}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"button",onClick:function(){return s(!1)},className:"button secondary",children:"Back"})})]})})}),Object(P.jsx)("div",{className:"product-list",children:Object(P.jsxs)("table",{className:"table",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"ID"}),Object(P.jsx)("th",{children:"Name"}),Object(P.jsx)("th",{children:"Price"}),Object(P.jsx)("th",{children:"Category"}),Object(P.jsx)("th",{children:"Brand"}),Object(P.jsx)("th",{children:"Action"})]})}),Object(P.jsx)("tbody",{children:ne.map((function(e){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:e._id}),Object(P.jsx)("td",{children:e.name}),Object(P.jsx)("td",{children:e.price}),Object(P.jsx)("td",{children:e.category}),Object(P.jsx)("td",{children:e.brand}),Object(P.jsxs)("td",{children:[Object(P.jsx)("button",{className:"button",onClick:function(){return de(e)},children:"Edit"})," ",Object(P.jsx)("button",{className:"button",onClick:function(){return je(e)},children:"Delete"})]})]},e._id)}))})]})})]})};var ie=function(e){return Object(P.jsxs)("div",{className:"checkout-steps",children:[Object(P.jsx)("div",{className:e.step1?"active":"",children:"Signin"}),Object(P.jsx)("div",{className:e.step2?"active":"",children:"Shipping"}),Object(P.jsx)("div",{className:e.step3?"active":"",children:"Payment"}),Object(P.jsx)("div",{className:e.step4?"active":"",children:"Place Order"})]})};var oe=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(""),b=Object(j.a)(u,2),h=b[0],O=b[1],p=Object(r.useState)(""),x=Object(j.a)(p,2),m=x[0],f=x[1],v=Object(a.c)((function(e){return e.userSignin})).userInfo,g=Object(a.b)();return v||e.history.push("/signin"),Object(P.jsxs)("div",{children:[Object(P.jsx)(ie,{step1:!0,step2:!0}),Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(t){var n;t.preventDefault(),g((n={address:c,estate:l,postalCode:h,phonenumber:m},function(e){e({type:K,payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n))})),e.history.push("/payment")},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Shipping"})}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"address",children:"Address"}),Object(P.jsx)("input",{type:"text",name:"address",id:"address",onChange:function(e){return s(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"estate",children:"Estate"}),Object(P.jsx)("input",{type:"text",name:"estate",id:"estate",onChange:function(e){return d(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(P.jsx)("input",{type:"text",name:"postalCode",id:"postalCode",onChange:function(e){return O(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"phonenumber",children:"Phone number"}),Object(P.jsx)("input",{type:"text",name:"phonenumber",id:"phonenumber",onChange:function(e){return f(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:"Continue"})})]})})})]})};var le=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1];Object(a.c)((function(e){return e.cart})).shipping.address||e.history.push("/shipping");var i=Object(a.b)();return Object(P.jsxs)("div",{children:[Object(P.jsx)(ie,{step1:!0,step2:!0,step3:!0}),Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(t){var n;t.preventDefault(),i((n={paymentMethod:c},function(e){e({type:z,payload:n})})),e.history.push("/placeorder")},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Payment"})}),Object(P.jsx)("li",{children:Object(P.jsxs)("div",{children:[Object(P.jsx)("input",{type:"radio",name:"paymentMethod",id:"paymentMethod",value:"M-PESA",onChange:function(e){return s(e.target.value)}}),Object(P.jsx)("label",{for:"paymentMethod",children:"M-PESA"}),Object(P.jsx)("input",{type:"radio",name:"paymentMethod",id:"paymentMethod",value:"Cash On Delivery",onChange:function(e){return s(e.target.value)}}),Object(P.jsx)("label",{for:"paymentMethod",children:"Cash On Delivery"}),Object(P.jsx)("input",{type:"radio",name:"paymentMethod",id:"paymentMethod",value:"Paypal",onChange:function(e){return s(e.target.value)}}),Object(P.jsx)("label",{for:"paymentMethod",children:"Paypal"})]})}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:"Continue"})})]})})})]})},de="ORDER_CREATE_REQUEST",je="ORDER_CREATE_SUCCESS",ue="ORDER_CREATE_FAIL",be="ORDER_CREATE_RESET",he="ORDER_DETAILS_REQUEST",Oe="ORDER_DETAILS_SUCCESS",pe="ORDER_DETAILS_FAIL",xe="MY_ORDER_LIST_REQUEST",me="MY_ORDER_LIST_SUCCESS",fe="MY_ORDER_LIST_FAIL",ve="ORDER_LIST_REQUEST",ge="ORDER_LIST_SUCCESS",ye="ORDER_LIST_FAIL",Se="ORDER_PAY_REQUEST",Ee="ORDER_PAY_SUCCESS",Ne="ORDER_PAY_FAIL",_e="ORDER_DELETE_REQUEST",Ce="ORDER_DELETE_SUCCESS",we="ORDER_DELETE_FAIL",Re="ORDER_SUMMARY_REQUEST",Ie="ORDER_SUMMARY_SUCCESS",ke="ORDER_SUMMARY_FAIL";var De=function(e){var t=Object(a.c)((function(e){return e.cart})),n=Object(a.c)((function(e){return e.orderCreate})),c=(n.loading,n.success),s=(n.error,n.order),i=t.cartItems,o=t.shipping,d=t.payment;o.address?d.paymentMethod||e.history.push("/payment"):e.history.push("/shipping");var j=i.reduce((function(e,t){return e+t.price*t.qty}),0),u=j>100?0:10,O=.15*j,p=j+u+O,x=Object(a.b)();return Object(r.useEffect)((function(){c&&e.history.push("/order/"+s._id)}),[x,s,e.history,c]),Object(P.jsxs)("div",{children:[Object(P.jsx)(ie,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(P.jsxs)("div",{className:"placeorder",children:[Object(P.jsxs)("div",{className:"placeorder-info",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:"Shipping"}),Object(P.jsxs)("div",{children:[t.shipping.address,", ",t.shipping.city,",",t.shipping.postalCode,", ",t.shipping.country,","]})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:"Payment"}),Object(P.jsxs)("div",{children:["Payment Method: ",t.payment.paymentMethod]})]}),Object(P.jsx)("div",{children:Object(P.jsxs)("ul",{className:"cart-list-container",children:[Object(P.jsxs)("li",{children:[Object(P.jsx)("h3",{children:"Shopping Cart"}),Object(P.jsx)("div",{children:"Price"})]}),0===i.length?Object(P.jsx)("div",{children:"Cart is empty"}):i.map((function(e){return Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{className:"cart-image",children:Object(P.jsx)("img",{src:e.image,alt:"product"})}),Object(P.jsxs)("div",{className:"cart-name",children:[Object(P.jsx)("div",{children:Object(P.jsx)(l.b,{to:"/product/"+e.product,children:e.name})}),Object(P.jsxs)("div",{children:["Qty: ",e.qty]})]}),Object(P.jsxs)("div",{className:"cart-price",children:["Ksh",e.price]})]})}))]})})]}),Object(P.jsx)("div",{className:"placeorder-action",children:Object(P.jsxs)("ul",{children:[Object(P.jsx)("li",{children:Object(P.jsx)("button",{className:"button primary full-width",onClick:function(){x(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n,r){var c,a,s,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:de,payload:e}),c=r(),a=c.userSignin.userInfo,t.next=5,D.a.post("/api/orders",e,{headers:{Authorization:" Bearer "+a.token}});case 5:s=t.sent,i=s.data.data,n({type:je,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:ue,payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()}({orderItems:i,shipping:o,payment:d,itemsPrice:j,shippingPrice:u,taxPrice:O,totalPrice:p}))},children:"Place Order"})}),Object(P.jsx)("li",{children:Object(P.jsx)("h3",{children:"Order Summary"})}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{children:"Items"}),Object(P.jsxs)("div",{children:["Ksh",j]})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{children:"Shipping"}),Object(P.jsxs)("div",{children:["Ksh",u]})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{children:"Tax"}),Object(P.jsxs)("div",{children:["Ksh",O]})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{children:"Order Total"}),Object(P.jsxs)("div",{children:["Ksh",p]})]})]})})]})]})},Ae=n(9);var Pe=function(e){var t=Object(r.useState)(!1),n=Object(j.a)(t,2),a=n[0],s=n[1],o=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/api/config/paypal");case 2:t=e.sent,n=t.data,(r=document.createElement("script")).type="text/javascript",r.src="https://www.paypal.com/sdk/js?client-id="+n,r.async=!0,r.onload=function(){s(!0)},document.body.appendChild(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){return window.paypal?s(!0):o(),function(){}}),[]),!a)return Object(P.jsx)("div",{children:"Loading..."});var l=window.paypal.Buttons.driver("react",{React:c.a,ReactDOM:i.a});return Object(P.jsx)(l,Object(Ae.a)(Object(Ae.a)({},e),{},{createOrder:function(t,n){return function(t,n){return n.order.create({purchase_units:[{amount:{currency_code:"USD",value:e.amount}}]})}(0,n)},onApprove:function(t,n){return function(t,n){return n.order.capture().then((function(n){return e.onSuccess(t,n)})).catch((function(e){return console.log(e)}))}(t,n)}}))};var Te=function(e){var t=Object(a.c)((function(e){return e.orderPay})),n=t.loading,c=t.success,s=(t.error,Object(a.b)());Object(r.useEffect)((function(){var t;return c?e.history.push("/profile"):s((t=e.match.params.id,function(){var e=Object(h.a)(b.a.mark((function e(n,r){var c,a,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:he,payload:t}),c=r(),a=c.userSignin.userInfo,e.next=5,D.a.get("/api/orders/".concat(t),{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,n({type:Oe,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n({type:pe,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}())),function(){}}),[c]);var i=Object(a.c)((function(e){return e.orderDetails})),o=i.loading,d=i.order,j=i.error;return o?Object(P.jsx)("div",{children:"Loading ..."}):j?Object(P.jsx)("div",{children:j}):Object(P.jsx)("div",{children:Object(P.jsxs)("div",{className:"placeorder",children:[Object(P.jsxs)("div",{className:"placeorder-info",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:"Shipping"}),Object(P.jsxs)("div",{children:[d.shipping.address,", ",d.shipping.estate,",",d.shipping.postalCode,", ",d.shipping.phonenumber,","]}),Object(P.jsx)("div",{children:d.isDelivered?"Delivered at "+d.deliveredAt:"Not Delivered."})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:"Payment"}),Object(P.jsxs)("div",{children:["Payment Method: ",d.payment.paymentMethod]}),Object(P.jsx)("div",{children:d.isPaid?"Paid at "+d.paidAt:"Not Paid."})]}),Object(P.jsx)("div",{children:Object(P.jsxs)("ul",{className:"cart-list-container",children:[Object(P.jsxs)("li",{children:[Object(P.jsx)("h3",{children:"Shopping Cart"}),Object(P.jsx)("div",{children:"Price"})]}),0===d.orderItems.length?Object(P.jsx)("div",{children:"Cart is empty"}):d.orderItems.map((function(e){return Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{className:"cart-image",children:Object(P.jsx)("img",{src:e.image,alt:"product"})}),Object(P.jsxs)("div",{className:"cart-name",children:[Object(P.jsx)("div",{children:Object(P.jsx)(l.b,{to:"/product/"+e.product,children:e.name})}),Object(P.jsxs)("div",{children:["Qty: ",e.qty]})]}),Object(P.jsxs)("div",{className:"cart-price",children:["Ksh",e.price]})]},e._id)}))]})})]}),Object(P.jsx)("div",{className:"placeorder-action",children:Object(P.jsxs)("ul",{children:[Object(P.jsxs)("li",{className:"placeorder-actions-payment",children:[n&&Object(P.jsx)("div",{children:"Finishing Payment..."}),!d.isPaid&&Object(P.jsx)(Pe,{amount:d.totalPrice,onSuccess:function(e){s(function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(r,c){var a,s,i,o;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:Se,payload:t}),a=c(),s=a.userSignin.userInfo,n.next=5,D.a.put("/api/orders/"+e._id+"/pay",t,{headers:{Authorization:"Bearer "+s.token}});case 5:i=n.sent,o=i.data,r({type:Ee,payload:o}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r({type:Ne,payload:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()}(d,e))}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("h3",{children:"Order Summary"})}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{children:"Items"}),Object(P.jsxs)("div",{children:["Ksh",d.itemsPrice]})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{children:"Shipping"}),Object(P.jsxs)("div",{children:["Ksh",d.shippingPrice]})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{children:"Tax"}),Object(P.jsxs)("div",{children:["Ksh",d.taxPrice]})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{children:"Order Total"}),Object(P.jsxs)("div",{children:["Ksh",d.totalPrice]})]})]})})]})})};var Ue=function(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)(""),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(""),O=Object(j.a)(u,2),p=O[0],x=O[1],m=Object(a.b)(),f=Object(a.c)((function(e){return e.userSignin})).userInfo,v=Object(a.c)((function(e){return e.userUpdate})),g=v.loading,y=v.success,S=v.error,E=Object(a.c)((function(e){return e.myOrderList})),N=E.loading,_=E.orders,C=E.error;return Object(r.useEffect)((function(){return f&&(console.log(f.name),x(f.email),s(f.name),d(f.password)),m(function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,c,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:xe}),r=n(),c=r.userSignin.userInfo,e.next=5,D.a.get("/api/orders/mine",{headers:{Authorization:"Bearer "+c.token}});case 5:a=e.sent,s=a.data,t({type:me,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:fe,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),function(){}}),[m]),Object(P.jsxs)("div",{className:"profile",children:[Object(P.jsx)("div",{className:"profile-info",children:Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(e){e.preventDefault(),m(function(e){var t=e.userId,n=e.name,r=e.email,c=e.password;return function(){var e=Object(h.a)(b.a.mark((function e(a,s){var i,o,l,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s(),o=i.userSignin.userInfo,a({type:H,payload:{userId:t,name:n,email:r,password:c}}),e.prev=2,e.next=5,D.a.put("/api/users/"+t,{name:n,email:r,password:c},{headers:{Authorization:"Bearer "+o.token}});case 5:l=e.sent,d=l.data,a({type:X,payload:d}),B.a.set("userInfo",JSON.stringify(d)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),a({type:Z,payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}()}({userId:f._id,email:p,name:c,password:l}))},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"User Profile"})}),Object(P.jsxs)("li",{children:[g&&Object(P.jsx)("div",{children:"Loading..."}),S&&Object(P.jsx)("div",{children:S}),y&&Object(P.jsx)("div",{children:"Profile Saved Successfully."})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"name",children:"Name"}),Object(P.jsx)("input",{value:c,type:"name",name:"name",id:"name",onChange:function(e){return s(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email"}),Object(P.jsx)("input",{value:p,type:"email",name:"email",id:"email",onChange:function(e){return x(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password"}),Object(P.jsx)("input",{value:l,type:"password",id:"password",name:"password",onChange:function(e){return d(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:"Update"})}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"button",onClick:function(){m((function(e){B.a.remove("userInfo"),e({type:ne})})),e.history.push("/signin")},className:"button secondary full-width",children:"Logout"})})]})})})}),Object(P.jsx)("div",{className:"profile-orders content-margined",children:N?Object(P.jsx)("div",{children:"Loading..."}):C?Object(P.jsxs)("div",{children:[C," "]}):Object(P.jsxs)("table",{className:"table",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"ID"}),Object(P.jsx)("th",{children:"DATE"}),Object(P.jsx)("th",{children:"TOTAL"}),Object(P.jsx)("th",{children:"PAID"}),Object(P.jsx)("th",{children:"ACTIONS"})]})}),Object(P.jsx)("tbody",{children:_.map((function(t){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:t._id}),Object(P.jsx)("td",{children:t.createdAt.substring(0,10)}),Object(P.jsx)("td",{children:t.totalPrice}),Object(P.jsx)("td",{children:t.isPaid?t.paidAt.substring(0,10):"No"}),Object(P.jsx)("td",{children:t.isDelivered?t.deliveredAt.substring(0,10):"No"}),Object(P.jsx)("td",{children:Object(P.jsx)("button",{type:"button",className:"small",onClick:function(){e.history.push("/order/".concat(t._id))},children:"Details"})})]},t._id)}))})]})})]})};var Le,Fe,Me,Be,Ve,Qe,Ke,ze,Ge,Ye,Je,qe,We,He=function(e){var t=Object(a.c)((function(e){return e.orderList})),n=t.loading,c=t.orders,s=(t.error,Object(a.c)((function(e){return e.orderDelete}))),i=(s.loading,s.success),o=(s.error,Object(a.b)());Object(r.useEffect)((function(){return o(function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,c,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ve}),r=n(),c=r.userSignin.userInfo,e.next=5,D.a.get("/api/orders",{headers:{Authorization:"Bearer "+c.token}});case 5:a=e.sent,s=a.data,t({type:ge,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:ye,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),function(){}}),[i]);var d=function(e){var t;window.confirm("Are you sure to delete?")&&o((t=e._id,function(){var e=Object(h.a)(b.a.mark((function e(n,r){var c,a,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:_e,payload:t}),c=r(),a=c.userSignin.userInfo,e.next=5,D.a.delete("/api/orders/"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,n({type:Ce,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n({type:we,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()))};return n?Object(P.jsx)("div",{children:"Loading..."}):Object(P.jsxs)("div",{className:"content content-margined",children:[Object(P.jsx)("div",{className:"order-header",children:Object(P.jsx)("h3",{children:"Orders"})}),Object(P.jsx)("div",{className:"order-list",children:Object(P.jsxs)("table",{className:"table",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"ID"}),Object(P.jsx)("th",{children:"DATE"}),Object(P.jsx)("th",{children:"TOTAL"}),Object(P.jsx)("th",{children:"USER"}),Object(P.jsx)("th",{children:"PAID"}),Object(P.jsx)("th",{children:"PAID AT"}),Object(P.jsx)("th",{children:"DELIVERED"}),Object(P.jsx)("th",{children:"DELIVERED AT"}),Object(P.jsx)("th",{children:"ACTIONS"})]})}),Object(P.jsx)("tbody",{children:c.map((function(e){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:e._id}),Object(P.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(P.jsx)("td",{children:e.totalPrice}),Object(P.jsx)("td",{children:e.user.name}),Object(P.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):"No"}),Object(P.jsx)("td",{children:e.paidAt}),Object(P.jsxs)("td",{children:[" ",e.isDelivered?e.deliveredAt.substring(0,10):"No"]}),Object(P.jsx)("td",{children:e.deliveredAt}),Object(P.jsxs)("td",{children:[Object(P.jsx)(l.b,{to:"/order/"+e._id,className:"button secondary",children:"Details"})," ",Object(P.jsx)("button",{type:"button",onClick:function(){return d(e)},className:"button secondary",children:"Delete"})]})]},e._id)}))})]})})]})},Xe=n(14),Ze=n(164),$e=n(165),et=n(166),tt=n(167),nt=n(168),rt=n(169),ct=n(170),at=n(15),st=function(e){return Object(at.a)(Le||(Le=Object(Xe.a)(["\n    @media only screen and (max-width: 380px) {\n      ","\n    }\n  "])),e)},it=n(48),ot=n.n(it),lt=window.location.host.indexOf("localhost")>=0?"http://127.0.0.1:5000":window.location.host;function dt(e){var t=e.userInfo,n=Object(r.useState)(null),c=Object(j.a)(n,2),a=c[0],s=c[1],i=Object(r.useRef)(null),o=Object(r.useState)(!1),l=Object(j.a)(o,2),d=l[0],u=l[1],b=Object(r.useState)(""),h=Object(j.a)(b,2),O=h[0],p=h[1],x=Object(r.useState)([{name:"Admin",body:"Hello there, Please ask your question."}]),m=Object(j.a)(x,2),f=m[0],v=m[1];Object(r.useEffect)((function(){i.current&&i.current.scrollBy({top:i.current.clientHeight,left:0,behavior:"smooth"}),a&&(a.emit("onLogin",{_id:t._id,name:t.name,isAdmin:t.isAdmin}),a.on("message",(function(e){v([].concat(Object(L.a)(f),[{body:e.body,name:e.name}]))})))}),[f,d,a]);return Object(P.jsx)("div",{className:"chatbox",children:d?Object(P.jsxs)("div",{className:"card card-body",children:[Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("strong",{children:"Support "}),Object(P.jsx)("button",{type:"button",onClick:function(){u(!1)},children:Object(P.jsx)("i",{className:"fa fa-close"})})]}),Object(P.jsx)("ul",{ref:i,children:f.map((function(e,t){return Object(P.jsxs)("li",{children:[Object(P.jsx)("strong",{children:"".concat(e.name,": ")})," ",e.body]},t)}))}),Object(P.jsx)("div",{children:Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O.trim()?(v([].concat(Object(L.a)(f),[{body:O,name:t.name}])),p(""),setTimeout((function(){a.emit("onMessage",{body:O,name:t.name,isAdmin:t.isAdmin,_id:t._id})}),1e3)):alert("Error. Please type message.")},className:"row",children:[Object(P.jsx)("input",{value:O,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"type message"}),Object(P.jsx)("button",{type:"submit",children:"Send"})]})})]}):Object(P.jsx)("button",{type:"button",onClick:function(){u(!0),console.log(lt);var e=ot()(lt);s(e)},children:Object(P.jsx)("i",{className:"fa fa-support fa-4x"})})})}var jt=at.b.div(Fe||(Fe=Object(Xe.a)(["\n  display: flex;\n  ","\n"])),st({flexDirection:"column"})),ut=at.b.div(Me||(Me=Object(Xe.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n"]))),bt=at.b.h1(Be||(Be=Object(Xe.a)([""]))),ht=at.b.p(Ve||(Ve=Object(Xe.a)(["\n  margin: 20px 0px;\n"]))),Ot=at.b.div(Qe||(Qe=Object(Xe.a)(["\n  display: flex;\n"]))),pt=at.b.div(Ke||(Ke=Object(Xe.a)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  color: white;\n  background-color: #",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 20px;\n"])),(function(e){return e.color})),xt=at.b.div(ze||(ze=Object(Xe.a)(["\n  flex-direction: column;\n  flex: 1;\n  padding: 20px;\n  ","\n"])),st({display:"flex"})),mt=at.b.h3(Ge||(Ge=Object(Xe.a)(["\n  margin-bottom: 30px;\n"]))),ft=at.b.ul(Ye||(Ye=Object(Xe.a)(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  flex-wrap: wrap;\n  ","\n"])),st({backgroundColor:"#fff8f8"})),vt=at.b.li(Je||(Je=Object(Xe.a)(["\n  width: 50%;\n  margin-bottom: 10px;\n  ","\n"])),st({backgroundColor:"#fff8f8"})),gt=at.b.div(qe||(qe=Object(Xe.a)(["\n  flex: 1;\n  padding: 20px;\n  ","\n"])),st({backgroundColor:"#fff8f8"})),yt=at.b.div(We||(We=Object(Xe.a)(["\n  margin-bottom: 20px;\n  display: flex;\n  align-items: center;\n  ","\n"])),st({backgroundColor:"#fff8f8"})),St=function(){Object(a.c)((function(e){return e.userSignin})).userInfo;return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(jt,{children:[Object(P.jsxs)(ut,{children:[Object(P.jsx)(bt,{children:"Vanilla Restaurant."}),Object(P.jsx)(ht,{children:"There are many variations of foods,desserts and drinks to enjoy from our prestigious restaurant."}),Object(P.jsx)(mt,{children:"Follow Us On"}),Object(P.jsxs)(Ot,{children:[Object(P.jsx)(pt,{color:"3B5999",children:Object(P.jsx)("a",{href:"https://facebook.com/vanillarestaurant",rel:"noopener noreferrer",target:"_blank",children:Object(P.jsx)(Ze.a,{})})}),Object(P.jsx)(pt,{color:"E4405F",children:Object(P.jsx)("a",{href:"https://instagram.com/vanillarestaurant",rel:"noopener noreferrer",target:"_blank",children:Object(P.jsx)($e.a,{})})}),Object(P.jsx)(pt,{color:"55ACEE",children:Object(P.jsx)("a",{href:"tel://0728131955",rel:"noopener noreferrer",target:"_blank",children:Object(P.jsx)(et.a,{})})}),Object(P.jsx)(pt,{color:"E60023",children:Object(P.jsx)("a",{href:"https://pinterest.com/vanillarestaurant",rel:"noopener noreferrer",target:"_blank",children:Object(P.jsx)(tt.a,{})})})]})]}),Object(P.jsxs)(xt,{children:[Object(P.jsx)(mt,{children:"Useful Links"}),Object(P.jsxs)(ft,{children:[Object(P.jsxs)(vt,{children:[" ",Object(P.jsx)(l.b,{to:"/",children:"Home"})]}),Object(P.jsx)(vt,{children:Object(P.jsx)(l.b,{to:"/category/BigMeals",children:"Big Meals"})}),Object(P.jsx)(vt,{children:Object(P.jsx)(l.b,{to:"/category/Breakfast",children:"Breakfast"})}),Object(P.jsx)(vt,{children:Object(P.jsx)(l.b,{to:"/category/Desserts",children:"Desserts"})}),Object(P.jsx)(vt,{children:Object(P.jsx)(l.b,{to:"/category/Drinks",children:"Drinks"})}),Object(P.jsx)(vt,{children:Object(P.jsx)(l.b,{to:"/profile",children:"My Account"})}),Object(P.jsx)(vt,{children:Object(P.jsx)(l.b,{to:"/shipping",children:"OrderTracking"})})]}),Object(P.jsx)(mt,{children:"OPENING TIMES"}),Object(P.jsx)(vt,{children:"Mon - Sat: 8am - 7pm"}),Object(P.jsx)(vt,{children:"Sundays: 8am - 6pm"})]}),Object(P.jsxs)(gt,{children:[Object(P.jsx)(mt,{children:"Contact Us"}),Object(P.jsxs)(yt,{children:[Object(P.jsx)(nt.a,{style:{marginRight:"10px"}})," 589,Royal Park Langata, Nairobi"]}),Object(P.jsxs)(yt,{children:[Object(P.jsx)(rt.a,{style:{marginRight:"10px"}}),Object(P.jsx)("a",{href:"tel://0728131955",children:"+254728131955"})]}),Object(P.jsxs)(yt,{children:[Object(P.jsx)(ct.a,{style:{marginRight:"10px"}}),Object(P.jsx)("a",{href:"mailto://vanillarestaurant@gmail.com",children:"vanillarestaurant@gmail.com"})]}),Object(P.jsx)(yt,{children:Object(P.jsxs)("a",{target:"_blank",rel:"noreferrer",class:"button-icon",href:"https://www.google.com/maps/place/Royal+Park+Estate/@-1.3284223,36.7732175,17z/data=!4m9!1m2!2m1!1sroyal+park+langata!3m5!1s0x0:0x1f2bb156cf666be4!8m2!3d-1.3285614!4d36.7781281!15sChJyb3lhbCBwYXJrIGxhbmdhdGGSARVyZXNpZGVudHNfYXNzb2NpYXRpb24",children:[Object(P.jsx)("i",{class:"fa fa-map-marker","aria-hidden":"true"})," Find us on google maps"]})}),Object(P.jsx)("a",{href:"/",class:"move-top",children:"This Way Up"}),Object(P.jsx)("img",{src:"//cdn.shopify.com/s/files/1/0015/1185/0042/t/14/assets/footer-icon.jpg?v=10449586777609619721",alt:"Vanilla & Restaurant",loading:"lazy",importance:"low"})]})]})})},Et=n(45);function Nt(){return Object(P.jsxs)("div",{className:"loading",children:[Object(P.jsx)("i",{className:"fa fa-spinner fa-spin"})," Loading..."]})}var _t=["places"],Ct={lat:45.516,lng:-73.56};function wt(e){var t=Object(r.useState)(""),n=Object(j.a)(t,2),s=n[0],i=n[1],o=Object(r.useState)(Ct),l=Object(j.a)(o,2),d=l[0],u=l[1],O=Object(r.useState)(d),p=Object(j.a)(O,2),x=p[0],m=p[1],f=c.a.useRef(),v=Object(r.useRef)(),g=Object(r.useRef)();Object(r.useEffect)((function(){(function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D()("/api/config/google");case 2:t=e.sent,n=t.data,i(n),S();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=Object(a.b)(),S=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){u({lat:e.coords.latitude,lng:e.coords.longitude}),m({lat:e.coords.latitude,lng:e.coords.longitude})})):alert("Geolocation os not supported by this browser")};return s?Object(P.jsx)("div",{className:"full-container",children:Object(P.jsx)(Et.b,{libraries:_t,googleMapsApiKey:s,children:Object(P.jsxs)(Et.a,{id:"smaple-map",mapContainerStyle:{height:"100%",width:"100%"},center:d,zoom:15,onLoad:function(e){f.current=e},onIdle:function(){m({lat:f.current.center.lat(),lng:f.current.center.lng()})},children:[Object(P.jsx)(Et.d,{onLoad:function(e){v.current=e},onPlacesChanged:function(){var e=v.current.getPlaces()[0].geometry.location;u({lat:e.lat(),lng:e.lng()}),m({lat:e.lat(),lng:e.lng()})},children:Object(P.jsxs)("div",{className:"map-input-box",children:[Object(P.jsx)("input",{type:"text",placeholder:"Enter your address"}),Object(P.jsx)("button",{type:"button",className:"primary",onClick:function(){var t=v.current.getPlaces();t&&1===t.length?(y({type:re,payload:{lat:x.lat,lng:x.lng,address:t[0].formatted_address,name:t[0].name,vicinity:t[0].vicinity,googleAddressId:t[0].id}}),alert("location selected successfully."),e.history.push("/shipping")):alert("Please enter your address")},children:"Confirm"})]})}),Object(P.jsx)(Et.c,{position:x,onLoad:function(e){g.current=e}})]})})}):Object(P.jsx)(Nt,{})}var Rt=n(10),It=["component"];function kt(e){var t=e.component,n=Object(Rt.a)(e,It),r=Object(a.c)((function(e){return e.userSignin})).userInfo;return Object(P.jsx)(d.b,Object(Ae.a)(Object(Ae.a)({},n),{},{render:function(e){return r?Object(P.jsx)(t,Object(Ae.a)({},e)):Object(P.jsx)(d.a,{to:"/signin"})}}))}var Dt=["component"];function At(e){var t=e.component,n=Object(Rt.a)(e,Dt),r=Object(a.c)((function(e){return e.userSignin})).userInfo;return Object(P.jsx)(d.b,Object(Ae.a)(Object(Ae.a)({},n),{},{render:function(e){return r&&r.isAdmin?Object(P.jsx)(t,Object(Ae.a)({},e)):Object(P.jsx)(d.a,{to:"/signin"})}}))}function Pt(e){return Object(P.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})}var Tt=[],Ut=[],Lt={},Ft=window.location.host.indexOf("localhost")>=0?"http://127.0.0.1:5000":window.location.host;function Mt(){var e=Object(r.useState)({}),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(null),i=Object(j.a)(s,2),o=i[0],l=i[1],d=Object(r.useRef)(null),u=Object(r.useState)(""),b=Object(j.a)(u,2),h=b[0],O=b[1],p=Object(r.useState)([]),x=Object(j.a)(p,2),m=x[0],f=x[1],v=Object(r.useState)([]),g=Object(j.a)(v,2),y=g[0],S=g[1],E=Object(a.c)((function(e){return e.userSignin})).userInfo;Object(r.useEffect)((function(){if(d.current&&d.current.scrollBy({top:d.current.clientHeight,left:0,behavior:"smooth"}),!o){var e=ot()(Ft);l(e),e.emit("onLogin",{_id:E._id,name:E.name,isAdmin:E.isAdmin}),e.on("message",(function(e){if(Lt._id===e._id)Ut=[].concat(Object(L.a)(Ut),[e]);else{var t=Tt.find((function(t){return t._id===e._id}));t&&(Tt=Tt.map((function(e){return e._id===t._id?Object(Ae.a)(Object(Ae.a)({},e),{},{unread:!0}):e})),S(Tt))}f(Ut)})),e.on("updateUser",(function(e){var t=Tt.find((function(t){return t._id===e._id}));t?(Tt=Tt.map((function(n){return n._id===t._id?e:n})),S(Tt)):(Tt=[].concat(Object(L.a)(Tt),[e]),S(Tt))})),e.on("listUsers",(function(e){S(Tt=e)})),e.on("selectUser",(function(e){Ut=e.messages,f(Ut)}))}}),[m,o,y]);return Object(P.jsxs)("div",{className:"row top full-container",children:[Object(P.jsxs)("div",{className:"col-1 support-users",children:[0===y.filter((function(e){return e._id!==E._id})).length&&Object(P.jsx)(Pt,{children:"No Online User Found"}),Object(P.jsx)("ul",{children:y.filter((function(e){return e._id!==E._id})).map((function(e){return Object(P.jsxs)("li",{className:e._id===n._id?"  selected":"  ",children:[Object(P.jsx)("button",{className:"block",type:"button",onClick:function(){return function(e){c(Lt=e);var t=Tt.find((function(t){return t._id===e._id}));t&&(Tt=Tt.map((function(e){return e._id===t._id?Object(Ae.a)(Object(Ae.a)({},e),{},{unread:!1}):e})),S(Tt)),o.emit("onUserSelected",e)}(e)},children:e.name}),Object(P.jsx)("span",{className:e.unread?"unread":e.online?"online":"offline"})]},e._id)}))})]}),Object(P.jsx)("div",{className:"col-3 support-messages",children:n._id?Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"row",children:Object(P.jsxs)("strong",{children:["Chat with ",n.name," "]})}),Object(P.jsxs)("ul",{ref:d,children:[0===m.length&&Object(P.jsx)("li",{children:"No message."}),m.map((function(e,t){return Object(P.jsxs)("li",{children:[Object(P.jsx)("strong",{children:"".concat(e.name,": ")})," ",e.body]},t)}))]}),Object(P.jsx)("div",{children:Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h.trim()?(Ut=[].concat(Object(L.a)(Ut),[{body:h,name:E.name}]),f(Ut),O(""),setTimeout((function(){o.emit("onMessage",{body:h,name:E.name,isAdmin:E.isAdmin,_id:n._id})}),1e3)):alert("Error. Please type message.")},className:"row",children:[Object(P.jsx)("input",{value:h,onChange:function(e){return O(e.target.value)},type:"text",placeholder:"type message"}),Object(P.jsx)("button",{type:"submit",children:"Send"})]})})]}):Object(P.jsx)(Pt,{children:"Select a user to start chat"})})]})}var Bt=n(56);function Vt(){var e=Object(a.c)((function(e){return e.orderSummary})),t=e.loading,n=e.summary,c=e.error,s=Object(a.b)();return Object(r.useEffect)((function(){s(function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r,c,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Re}),r=n(),c=r.userSignin.userInfo,e.prev=2,e.next=5,D.a.get("/api/orders/summary/id",{headers:{Authorization:"Bearer ".concat(c.token)}});case 5:a=e.sent,s=a.data,t({type:Ie,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:ue,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}())}),[s]),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("h1",{children:"Dashboard"})}),t?Object(P.jsx)(Nt,{}):c?Object(P.jsx)(Pt,{variant:"danger",children:c}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("ul",{className:"row summary",children:[Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{className:"summary-title color1",children:Object(P.jsxs)("span",{children:[Object(P.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(P.jsx)("div",{className:"summary-body",children:n.users[0].numUsers})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{className:"summary-title color2",children:Object(P.jsxs)("span",{children:[Object(P.jsx)("i",{className:"fa fa-shopping-cart"})," Orders"]})}),Object(P.jsx)("div",{className:"summary-body",children:n.orders[0]?n.orders[0].numOrders:0})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{className:"summary-title color3",children:Object(P.jsxs)("span",{children:[Object(P.jsx)("i",{className:"fa fa-money"})," Sales"]})}),Object(P.jsxs)("div",{className:"summary-body",children:["Ksh",n.orders[0]?n.orders[0].totalSales.toFixed(2):0]})]})]}),Object(P.jsx)("div",{children:Object(P.jsxs)("div",{children:[Object(P.jsx)("h2",{children:"Sales"}),0===n.dailyOrders.length?Object(P.jsx)(Pt,{children:"No Sale"}):Object(P.jsx)(Bt.a,{width:"100%",height:"400px",chartType:"AreaChart",loader:Object(P.jsx)("div",{children:"Loading Chart"}),data:[["Date","Sales"]].concat(Object(L.a)(n.dailyOrders.map((function(e){return[e._id,e.sales]}))))})]})}),Object(P.jsxs)("div",{children:[Object(P.jsx)("h2",{children:"Categories"}),0===n.productCategories.length?Object(P.jsx)(Pt,{children:"No Category"}):Object(P.jsx)(Bt.a,{width:"100%",height:"400px",chartType:"PieChart",loader:Object(P.jsx)("div",{children:"Loading Chart"}),data:[["Category","Products"]].concat(Object(L.a)(n.productCategories.map((function(e){return[e._id,e.count]}))))})]})]})]})}var Qt=function(){var e=Object(a.c)((function(e){return e.cart})),t=Object(a.c)((function(e){return e.userSignin})).userInfo,n=e.cartItems,r=function(e){var t=e.children;return Object(o.useMediaQuery)({minWidth:992})?t:null},c=function(e){var t=e.children;return Object(o.useMediaQuery)({minWidth:768,maxWidth:991})?t:null},s=function(e){var t=e.children;return Object(o.useMediaQuery)({maxWidth:767})?t:null},i=function(e){var t=e.children;return Object(o.useMediaQuery)({minWidth:768})?t:null};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(l.a,{children:Object(P.jsxs)("div",{className:"grid-container",children:[Object(P.jsxs)("header",{className:"header",children:[Object(P.jsxs)("div",{className:"brand",children:[Object(P.jsx)("button",{onClick:function(){document.querySelector(".sidebar").classList.add("open")},children:"\u2630"}),Object(P.jsx)(l.b,{to:"/",children:"Vanilla Restaurant"})]}),Object(P.jsxs)("div",{className:"header-links",children:[Object(P.jsxs)(l.b,{to:"/cart",children:["Cart ",n.length>0&&Object(P.jsx)("span",{className:"badge",children:n.length})]}),t?Object(P.jsx)(l.b,{to:"/profile",children:t.name}):Object(P.jsx)(l.b,{to:"/signin",children:"Sign In"}),t&&t.isAdmin&&Object(P.jsxs)("div",{className:"dropdown",children:[Object(P.jsx)("a",{href:"#",children:"Admin"}),Object(P.jsx)("ul",{className:"dropdown-content",children:Object(P.jsxs)("li",{children:[Object(P.jsx)(l.b,{to:"/orders",children:"Orders"}),Object(P.jsx)(l.b,{to:"/products",children:"Products"}),Object(P.jsx)("li",{children:Object(P.jsx)(l.b,{to:"/support",children:"Support"})}),Object(P.jsx)("li",{children:Object(P.jsx)(l.b,{to:"/dashboard",children:"Dashboard"})})]})})]})]})]}),Object(P.jsxs)("aside",{className:"sidebar",children:[Object(P.jsx)("strong",{children:"Food Categories"}),Object(P.jsx)("button",{className:"sidebar-close-button",onClick:function(){document.querySelector(".sidebar").classList.remove("open")},children:"x"}),Object(P.jsxs)("ul",{className:"categories",children:[Object(P.jsx)("li",{children:Object(P.jsx)(l.b,{to:"/category/BigMeals",children:"Big Meals"})}),Object(P.jsx)("li",{children:Object(P.jsx)(l.b,{to:"/category/Breakfast",children:"Breakfast"})}),Object(P.jsx)("li",{children:Object(P.jsx)(l.b,{to:"/category/Desserts",children:"Desserts"})}),Object(P.jsx)("li",{children:Object(P.jsx)(l.b,{to:"/category/Drinks",children:"Drinks"})})]})]}),Object(P.jsx)("main",{className:"main",children:Object(P.jsxs)("div",{className:"content",children:[Object(P.jsx)(d.b,{path:"/orders",component:He}),Object(P.jsx)(d.b,{path:"/profile",component:Ue}),Object(P.jsx)(d.b,{path:"/order/:id",component:Te}),Object(P.jsx)(d.b,{path:"/products",component:se}),Object(P.jsx)(d.b,{path:"/shipping",component:oe}),Object(P.jsx)(d.b,{path:"/payment",component:le}),Object(P.jsx)(d.b,{path:"/placeorder",component:De}),Object(P.jsx)(d.b,{path:"/signin",component:ce}),Object(P.jsx)(d.b,{path:"/register",component:ae}),Object(P.jsx)(d.b,{path:"/product/:id",component:F}),Object(P.jsx)(d.b,{path:"/cart/:id?",component:Y}),Object(P.jsx)(d.b,{path:"/category/:id",component:U}),Object(P.jsx)(d.b,{path:"/",exact:!0,component:U}),Object(P.jsx)(kt,{path:"/map",component:wt}),Object(P.jsx)(At,{path:"/dashboard",component:Vt}),Object(P.jsx)(At,{path:"/support",component:Mt})]})}),Object(P.jsx)(St,{}),Object(P.jsx)("div",{children:t&&!t.isAdmin&&Object(P.jsx)(dt,{userInfo:t})})]})}),Object(P.jsxs)("div",{children:[Object(P.jsx)(r,{children:"Desktop or laptop"}),Object(P.jsx)(c,{children:"Tablet"}),Object(P.jsx)(s,{children:"Mobile"}),Object(P.jsx)(i,{children:"Not mobile (desktop or laptop or tablet)"})]})]})},Kt=n(44),zt=n(86);var Gt={cart:{cartItems:B.a.getJSON("cartItems")||[],shipping:{},payment:{}},userSignin:{userInfo:B.a.getJSON("userInfo")||null}},Yt=Object(Kt.b)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0,products:[]};case p:return{loading:!1,products:t.payload};case x:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case f:return{loading:!1,product:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shipping:{},payment:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:var n=t.payload,r=e.cartItems.find((function(e){return e.product===n.product}));return r?{cartItems:e.cartItems.map((function(e){return e.product===r.product?n:e}))}:{cartItems:[].concat(Object(L.a)(e.cartItems),[n])};case Q:return{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))};case K:return Object(Ae.a)(Object(Ae.a)({},e),{},{shipping:t.payload});case z:return Object(Ae.a)(Object(Ae.a)({},e),{},{payment:t.payload});default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return{loading:!0};case q:return{loading:!1,userInfo:t.payload};case W:return{loading:!1,error:t.payload};case ne:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case ee:return{loading:!1,userInfo:t.payload};case te:return{loading:!1,error:t.payload};default:return e}},productSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case y:return{loading:!1,success:!0,product:t.payload};case S:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!0};case N:return{loading:!1,product:t.payload,success:!0};case _:return{loading:!1,error:t.payload};default:return e}},productReviewSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case w:return{loading:!1,review:t.payload,success:!0};case R:return{loading:!1,errror:t.payload};case I:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0};case je:return{loading:!1,order:t.payload,success:!0};case ue:return{loading:!1,error:t.payload};case be:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return{loading:!0};case Oe:return{loading:!1,order:t.payload,success:!0};case pe:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return{loading:!0};case Ee:return{loading:!1,order:t.payload,success:!0};case Ne:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{loading:!0};case X:return{loading:!1,userInfo:t.payload};case Z:return{loading:!1,error:t.payload};default:return e}},myOrderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return{loading:!0};case me:return{loading:!1,orders:t.payload,success:!0};case fe:return{loading:!1,error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{loading:!0};case ge:return{loading:!1,orders:t.payload,success:!0};case ye:return{loading:!1,error:t.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return{loading:!0};case Ce:return{loading:!1,order:t.payload,success:!0};case we:return{loading:!1,error:t.payload};default:return e}},userAddressMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{address:t.payload};default:return e}},orderSummary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,summary:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return{loading:!0};case Ie:return{loading:!1,summary:t.payload};case ke:return{loading:!1,error:t.payload};default:return e}}}),Jt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Kt.c,qt=Object(Kt.d)(Yt,Gt,Jt(Object(Kt.a)(zt.a)));i.a.render(Object(P.jsx)(l.a,{children:Object(P.jsx)(a.a,{store:qt,children:Object(P.jsx)(Qt,{})})}),document.getElementById("root"))},97:function(e,t,n){},98:function(e,t,n){}},[[151,1,2]]]);
//# sourceMappingURL=main.021083e1.chunk.js.map