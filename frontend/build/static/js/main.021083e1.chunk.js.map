{"version":3,"sources":["constants/productConstants.js","actions/productActions.js","components/Rating.js","screens/HomeScreen.js","screens/ProductScreen.js","constants/cartConstants.js","actions/cartActions.js","screens/CartScreen.js","constants/userConstants.js","screens/SigninScreen.js","actions/userActions.js","screens/RegisterScreen.js","screens/ProductsScreen.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","constants/orderConstants.js","screens/PlaceOrderScreen.js","actions/orderActions.js","components/PaypalButton.js","screens/OrderScreen.js","screens/ProfileScreen.js","screens/OrdersScreen.js","responsive.js","components/ChatBox.js","screens/FooterScreen.js","components/LoadingBox.js","screens/MapScreen.js","components/PrivateRoute.js","components/AdminRoute.js","components/MessageBox.js","screens/SupportScreen.js","screens/DashboardScreen.js","App.js","reducers/orderReducers.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_SAVE_REQUEST","PRODUCT_SAVE_SUCCESS","PRODUCT_SAVE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_REVIEW_SAVE_REQUEST","PRODUCT_REVIEW_SAVE_SUCCESS","PRODUCT_REVIEW_SAVE_FAIL","PRODUCT_REVIEW_SAVE_RESET","listProducts","category","searchKeyword","sortOrder","dispatch","a","type","axios","get","data","payload","message","Rating","props","value","className","text","HomeScreen","useState","setSearchKeyword","setSortOrder","match","params","id","productList","useSelector","state","products","loading","error","useDispatch","useEffect","onSubmit","e","preventDefault","name","onChange","target","map","product","to","_id","src","image","alt","brand","price","rating","numReviews","ProductScreen","qty","setQty","setRating","comment","setComment","userInfo","userSignin","productDetails","productSaveSuccess","productReviewSave","success","productId","alert","href","description","countInStock","Array","keys","x","onClick","history","push","reviews","length","review","createdAt","substring","getState","token","post","headers","Authorization","htmlFor","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING","CART_SAVE_PAYMENT","addToCart","Axios","cartItems","cart","Cookie","set","JSON","stringify","CartScreen","location","search","Number","split","removeFromCartHandler","removeFromCart","item","reduce","c","disabled","USER_SIGNIN_REQUEST","USER_SIGNIN_SUCCESS","USER_SIGNIN_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_LOGOUT","USER_ADDRESS_MAP_CONFIRM","SigninScreen","email","setEmail","password","setPassword","redirect","signin","RegisterScreen","setName","setRePassword","userRegister","register","ProductsScreen","modalVisible","setModalVisible","setId","setPrice","setImage","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","productSave","loadingSave","successSave","errorSave","productDelete","successDelete","openModal","deleteHandler","delete","put","file","files","bodyFormData","FormData","append","then","response","catch","err","console","log","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","estate","setEstate","postalCode","setPostalCode","phonenumber","setPhonenumber","localStorage","setItem","PaymentScreen","paymentMethod","setPaymentMethod","shipping","for","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","MY_ORDER_LIST_REQUEST","MY_ORDER_LIST_SUCCESS","MY_ORDER_LIST_FAIL","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_DELETE_REQUEST","ORDER_DELETE_SUCCESS","ORDER_DELETE_FAIL","ORDER_SUMMARY_REQUEST","ORDER_SUMMARY_SUCCESS","ORDER_SUMMARY_FAIL","PlaceOrderScreen","orderCreate","order","payment","itemsPrice","shippingPrice","taxPrice","totalPrice","city","country","newOrder","createOrder","orderItems","PaypalButton","sdkReady","setSdkReady","addPaypalSdk","result","clientID","script","document","createElement","async","onload","body","appendChild","window","paypal","Button","Buttons","driver","React","ReactDOM","actions","create","purchase_units","amount","currency_code","onApprove","capture","details","onSuccess","OrderScreen","orderPay","loadingPay","successPay","orderId","orderDetails","isDelivered","deliveredAt","isPaid","paidAt","paymentResult","payOrder","ProfileScreen","userUpdate","myOrderList","loadingOrders","orders","errorOrders","userId","update","remove","OrdersScreen","orderList","orderDelete","confirm","user","mobile","css","ENDPOINT","host","indexOf","ChatBox","socket","setSocket","uiMessagesRef","useRef","isOpen","setIsOpen","messageBody","setMessageBody","messages","setMessages","current","scrollBy","top","clientHeight","left","behavior","emit","isAdmin","on","ref","msg","index","trim","setTimeout","placeholder","sk","socketIOClient","Container","styled","div","flexDirection","Left","Logo","h1","Desc","p","SocialContainer","SocialIcon","color","Center","display","Title","h3","List","ul","backgroundColor","ListItem","li","Right","ContactItem","Footer","rel","Facebook","Instagram","WhatsApp","Pinterest","Room","style","marginRight","Phone","MailOutline","class","aria-hidden","importance","LoadingBox","libs","defaultLocation","lat","lng","MapScreen","googleApiKey","setGoogleApiKey","center","setCenter","setLocation","mapRef","placeRef","markerRef","getUserCurrentLocation","fetch","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","libraries","googleMapsApiKey","mapContainerStyle","height","width","zoom","onLoad","onIdle","place","onPlacesChanged","getPlaces","geometry","places","formatted_address","vicinity","googleAddressId","marker","PrivateRoute","Component","component","rest","render","AdminRoute","MessageBox","variant","children","allUsers","allMessages","allSelectedUser","SupportScreen","selectedUser","setSelectedUser","users","setUsers","existUser","find","unread","updatedUser","updatedUsers","filter","selectUser","online","DashboardScreen","orderSummary","summary","numUsers","numOrders","totalSales","toFixed","dailyOrders","chartType","loader","sales","productCategories","count","App","Desktop","useMediaQuery","minWidth","Tablet","maxWidth","Mobile","Default","querySelector","classList","add","path","exact","FooterScreen","initialState","getJSON","reducer","combineReducers","action","errror","userAddressMap","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","getElementById"],"mappings":"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","file":"static/js/main.021083e1.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\r\n\r\nexport const PRODUCT_SAVE_REQUEST = 'PRODUCT_SAVE_REQUEST';\r\nexport const PRODUCT_SAVE_SUCCESS = 'PRODUCT_SAVE_SUCCESS';\r\nexport const PRODUCT_SAVE_FAIL = 'PRODUCT_SAVE_FAIL';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\r\n\r\nexport const PRODUCT_REVIEW_SAVE_REQUEST = 'PRODUCT_REVIEW_SAVE_REQUEST';\r\nexport const PRODUCT_REVIEW_SAVE_SUCCESS = 'PRODUCT_REVIEW_SAVE_SUCCESS';\r\nexport const PRODUCT_REVIEW_SAVE_FAIL = 'PRODUCT_REVIEW_SAVE_FAIL';\r\nexport const PRODUCT_REVIEW_SAVE_RESET = 'PRODUCT_REVIEW_SAVE_RESET';","import {\r\n    PRODUCT_LIST_REQUEST,\r\n    PRODUCT_LIST_SUCCESS,\r\n    PRODUCT_LIST_FAIL,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_DETAILS_FAIL,\r\n    PRODUCT_SAVE_REQUEST,\r\n    PRODUCT_SAVE_SUCCESS,\r\n    PRODUCT_SAVE_FAIL,\r\n    PRODUCT_DELETE_SUCCESS,\r\n    PRODUCT_DELETE_FAIL,\r\n    PRODUCT_DELETE_REQUEST,\r\n    PRODUCT_REVIEW_SAVE_REQUEST,\r\n    PRODUCT_REVIEW_SAVE_FAIL,\r\n    PRODUCT_REVIEW_SAVE_SUCCESS,\r\n  } from '../constants/productConstants';\r\n  import axios from 'axios';\r\n  import Axios from 'axios';\r\n  \r\n  const listProducts = (\r\n    category = '',\r\n    searchKeyword = '',\r\n    sortOrder = ''\r\n  ) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_LIST_REQUEST });\r\n      const { data } = await axios.get(\r\n        '/api/products?category=' +\r\n          category +\r\n          '&searchKeyword=' +\r\n          searchKeyword +\r\n          '&sortOrder=' +\r\n          sortOrder\r\n      );\r\n      dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\r\n    }\r\n  };\r\n  \r\n  const saveProduct = (product) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_SAVE_REQUEST, payload: product });\r\n      const {\r\n        userSignin: { userInfo },\r\n      } = getState();\r\n      if (!product._id) {\r\n        const { data } = await Axios.post('/api/products', product, {\r\n          headers: {\r\n            Authorization: 'Bearer ' + userInfo.token,\r\n          },\r\n        });\r\n        dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n      } else {\r\n        const { data } = await Axios.put(\r\n          '/api/products/' + product._id,\r\n          product,\r\n          {\r\n            headers: {\r\n              Authorization: 'Bearer ' + userInfo.token,\r\n            },\r\n          }\r\n        );\r\n        dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n      }\r\n    } catch (error) {\r\n      dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\r\n    }\r\n  };\r\n  \r\n  const detailsProduct = (productId) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n      const { data } = await axios.get('/api/products/' + productId);\r\n      dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\r\n    }\r\n  };\r\n  \r\n  const deleteProdcut = (productId) => async (dispatch, getState) => {\r\n    try {\r\n      const {\r\n        userSignin: { userInfo },\r\n      } = getState();\r\n      dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\r\n      const { data } = await axios.delete('/api/products/' + productId, {\r\n        headers: {\r\n          Authorization: 'Bearer ' + userInfo.token,\r\n        },\r\n      });\r\n      dispatch({ type: PRODUCT_DELETE_SUCCESS, payload: data, success: true });\r\n    } catch (error) {\r\n      dispatch({ type: PRODUCT_DELETE_FAIL, payload: error.message });\r\n    }\r\n  };\r\n  \r\n  const saveProductReview = (productId, review) => async (dispatch, getState) => {\r\n    try {\r\n      const {\r\n        userSignin: {\r\n          userInfo: { token },\r\n        },\r\n      } = getState();\r\n      dispatch({ type: PRODUCT_REVIEW_SAVE_REQUEST, payload: review });\r\n      const { data } = await axios.post(\r\n        `/api/products/${productId}/reviews`,\r\n        review,\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + token,\r\n          },\r\n        }\r\n      );\r\n      dispatch({ type: PRODUCT_REVIEW_SAVE_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      // report error\r\n      dispatch({ type: PRODUCT_REVIEW_SAVE_FAIL, payload: error.message });\r\n    }\r\n  };\r\n  \r\n  export {\r\n    listProducts,\r\n    detailsProduct,\r\n    saveProduct,\r\n    deleteProdcut,\r\n    saveProductReview,\r\n  };","import React from 'react';\r\n\r\nexport default function Rating(props) {\r\n  return !props.value ? (\r\n    <div></div>\r\n  ) : (\r\n    <div className=\"rating\">\r\n      <span>\r\n        <i\r\n          className={\r\n            props.value >= 1\r\n              ? 'fa fa-star'\r\n              : props.value >= 0.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            props.value >= 2\r\n              ? 'fa fa-star'\r\n              : props.value >= 1.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            props.value >= 3\r\n              ? 'fa fa-star'\r\n              : props.value >= 2.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            props.value >= 4\r\n              ? 'fa fa-star'\r\n              : props.value >= 3.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          className={\r\n            props.value >= 5\r\n              ? 'fa fa-star'\r\n              : props.value >= 4.5\r\n              ? 'fa fa-star-half-o'\r\n              : 'fa fa-star-o'\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>{props.text ? props.text : ''}</span>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\nimport Rating from '../components/Rating';\r\n\r\nfunction HomeScreen(props) {\r\n  const [searchKeyword, setSearchKeyword] = useState('');\r\n  const [sortOrder, setSortOrder] = useState('');\r\n  const category = props.match.params.id ? props.match.params.id : '';\r\n  const productList = useSelector((state) => state.productList);\r\n  const { products, loading, error } = productList;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(listProducts(category));\r\n\r\n    return () => {\r\n      //\r\n    };\r\n  }, [category]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(listProducts(category, searchKeyword, sortOrder));\r\n  };\r\n  const sortHandler = (e) => {\r\n    setSortOrder(e.target.value);\r\n    dispatch(listProducts(category, searchKeyword, sortOrder));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {category && <h2>{category}</h2>}\r\n\r\n      <ul className=\"filter\">\r\n        <li>\r\n          <form onSubmit={submitHandler}>\r\n            <input\r\n              name=\"searchKeyword\"\r\n              onChange={(e) => setSearchKeyword(e.target.value)}\r\n            />\r\n            <button type=\"submit\">Search</button>\r\n          </form>\r\n        </li>\r\n        <li>\r\n          Sort By{' '}\r\n          <select name=\"sortOrder\" onChange={sortHandler}>\r\n            <option value=\"\">Newest</option>\r\n            <option value=\"lowest\">Lowest</option>\r\n            <option value=\"highest\">Highest</option>\r\n          </select>\r\n        </li>\r\n      </ul>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error}</div>\r\n      ) : (\r\n        <ul className=\"products\">\r\n          {products.map((product) => (\r\n            <li key={product._id}>\r\n              <div className=\"product\">\r\n                <Link to={'/product/' + product._id}>\r\n                  <img\r\n                    className=\"product-image\"\r\n                    src={product.image}\r\n                    alt=\"product\"\r\n                  />\r\n                </Link>\r\n                <div className=\"product-name\">\r\n                  <Link to={'/product/' + product._id}>{product.name}</Link>\r\n                </div>\r\n                <div className=\"product-brand\">{product.brand}</div>\r\n                <div className=\"product-price\">Ksh{product.price}</div>\r\n                <div className=\"product-rating\">\r\n                  <Rating\r\n                    value={product.rating}\r\n                    text={product.numReviews + ' reviews'}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default HomeScreen;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { detailsProduct, saveProductReview } from '../actions/productActions';\r\nimport Rating from '../components/Rating';\r\nimport { PRODUCT_REVIEW_SAVE_RESET } from '../constants/productConstants';\r\n\r\nfunction ProductScreen(props) {\r\n  const [qty, setQty] = useState(1);\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { product, loading, error } = productDetails;\r\n  const productReviewSave = useSelector((state) => state.productReviewSave);\r\n  const { success: productSaveSuccess } = productReviewSave;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (productSaveSuccess) {\r\n      alert('Review submitted successfully.');\r\n      setRating(0);\r\n      setComment('');\r\n      dispatch({ type: PRODUCT_REVIEW_SAVE_RESET });\r\n    }\r\n    dispatch(detailsProduct(props.match.params.id));\r\n    return () => {\r\n      //\r\n    };\r\n  }, [productSaveSuccess]);\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    // dispatch actions\r\n    dispatch(\r\n      saveProductReview(props.match.params.id, {\r\n        name: userInfo.name,\r\n        rating: rating,\r\n        comment: comment,\r\n      })\r\n    );\r\n  };\r\n  const handleAddToCart = () => {\r\n    props.history.push('/cart/' + props.match.params.id + '?qty=' + qty);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"back-to-result\">\r\n        <Link to=\"/\">Back to result</Link>\r\n      </div>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : error ? (\r\n        <div>{error} </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"details\">\r\n            <div className=\"details-image\">\r\n              <img src={product.image} alt=\"product\"></img>\r\n            </div>\r\n            <div className=\"details-info\">\r\n              <ul>\r\n                <li>\r\n                  <h4>{product.name}</h4>\r\n                </li>\r\n                <li>\r\n                  <a href=\"#reviews\">\r\n                    <Rating\r\n                      value={product.rating}\r\n                      text={product.numReviews + ' reviews'}\r\n                    />\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  Price: <b>Ksh{product.price}</b>\r\n                </li>\r\n                <li>\r\n                  Description:\r\n                  <div>{product.description}</div>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"details-action\">\r\n              <ul>\r\n                <li>Price: {product.price}</li>\r\n                <li>\r\n                  Status:{' '}\r\n                  {product.countInStock > 0 ? 'In Stock' : 'Unavailable.'}\r\n                </li>\r\n                <li>\r\n                  Qty:{' '}\r\n                  <select\r\n                    value={qty}\r\n                    onChange={(e) => {\r\n                      setQty(e.target.value);\r\n                    }}\r\n                  >\r\n                    {[...Array(product.countInStock).keys()].map((x) => (\r\n                      <option key={x + 1} value={x + 1}>\r\n                        {x + 1}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </li>\r\n                <li>\r\n                  {product.countInStock > 0 && (\r\n                    <button\r\n                      onClick={handleAddToCart}\r\n                      className=\"button primary\"\r\n                    >\r\n                      Add to Cart\r\n                    </button>\r\n                  )}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div className=\"content-margined\">\r\n            <h2>Reviews</h2>\r\n            {!product.reviews.length && <div>There is no review</div>}\r\n            <ul className=\"review\" id=\"reviews\">\r\n              {product.reviews.map((review) => (\r\n                <li key={review._id}>\r\n                  <div>{review.name}</div>\r\n                  <div>\r\n                    <Rating value={review.rating}></Rating>\r\n                  </div>\r\n                  <div>{review.createdAt.substring(0, 10)}</div>\r\n                  <div>{review.comment}</div>\r\n                </li>\r\n              ))}\r\n              <li>\r\n                <h3>Write a customer review</h3>\r\n                {userInfo ? (\r\n                  <form onSubmit={submitHandler}>\r\n                    <ul className=\"form-container\">\r\n                      <li>\r\n                        <label htmlFor=\"rating\">Rating</label>\r\n                        <select\r\n                          name=\"rating\"\r\n                          id=\"rating\"\r\n                          value={rating}\r\n                          onChange={(e) => setRating(e.target.value)}\r\n                        >\r\n                          <option value=\"1\">1- Poor</option>\r\n                          <option value=\"2\">2- Fair</option>\r\n                          <option value=\"3\">3- Good</option>\r\n                          <option value=\"4\">4- Very Good</option>\r\n                          <option value=\"5\">5- Excelent</option>\r\n                        </select>\r\n                      </li>\r\n                      <li>\r\n                        <label htmlFor=\"comment\">Comment</label>\r\n                        <textarea\r\n                          name=\"comment\"\r\n                          value={comment}\r\n                          onChange={(e) => setComment(e.target.value)}\r\n                        ></textarea>\r\n                      </li>\r\n                      <li>\r\n                        <button type=\"submit\" className=\"button primary\">\r\n                          Submit\r\n                        </button>\r\n                      </li>\r\n                    </ul>\r\n                  </form>\r\n                ) : (\r\n                  <div>\r\n                    Please <Link to=\"/signin\">Sign-in</Link> to write a review.\r\n                  </div>\r\n                )}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default ProductScreen;","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_SAVE_SHIPPING = 'CART_SAVE_SHIPPING';\r\nexport const CART_SAVE_PAYMENT = 'CART_SAVE_PAYMENT';","import Axios from \"axios\";\r\nimport Cookie from \"js-cookie\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING, CART_SAVE_PAYMENT } from \"../constants/cartConstants\";\r\n\r\nconst addToCart = (productId, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await Axios.get(\"/api/products/\" + productId);\r\n    dispatch({\r\n      type: CART_ADD_ITEM, payload: {\r\n        product: data._id,\r\n        name: data.name,\r\n        image: data.image,\r\n        price: data.price,\r\n        countInStock: data.countInStock,\r\n        qty\r\n      }\r\n    });\r\n    const { cart: { cartItems } } = getState();\r\n    Cookie.set(\"cartItems\", JSON.stringify(cartItems));\r\n\r\n  } catch (error) {\r\n\r\n  }\r\n}\r\nconst removeFromCart = (productId) => (dispatch, getState) => {\r\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\r\n\r\n  const { cart: { cartItems } } = getState();\r\n  Cookie.set(\"cartItems\", JSON.stringify(cartItems));\r\n}\r\nconst saveShipping = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_SHIPPING, payload: data });\r\n  localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n}\r\nconst savePayment = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_PAYMENT, payload: data });\r\n}\r\nexport { addToCart, removeFromCart, saveShipping, savePayment }","import React, { useEffect } from 'react';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nfunction CartScreen(props) {\r\n\r\n  const cart = useSelector((state )=> state.cart);\r\n\r\n  const { cartItems } = cart;\r\n\r\n  const productId = props.match.params.id;\r\n  const qty = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\r\n  const dispatch = useDispatch();\r\n  const removeFromCartHandler = (productId) => {\r\n    dispatch(removeFromCart(productId));\r\n  }\r\n  useEffect(() => {\r\n    if (productId) {\r\n      dispatch(addToCart(productId, qty));\r\n    }\r\n  }, [dispatch, productId, qty]);\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push(\"/signin?redirect=shipping\");\r\n  }\r\n\r\n  return <div className=\"cart\">\r\n    <div className=\"cart-list\">\r\n      <ul className=\"cart-list-container\">\r\n        <li>\r\n          <h3>\r\n            Shopping Cart\r\n          </h3>\r\n          <div>\r\n            Price\r\n          </div>\r\n        </li>\r\n        {\r\n          cartItems.length === 0 ?\r\n            <div>\r\n              Cart is empty\r\n          </div>\r\n            :\r\n            cartItems.map(item =>\r\n              <li>\r\n                <div className=\"cart-image\">\r\n                  <img src={item.image} alt=\"product\" />\r\n                </div>\r\n                <div className=\"cart-name\">\r\n                  <div>\r\n                    <Link to={\"/product\" + item.product}>\r\n                      {item.name}\r\n                    </Link>\r\n\r\n                  </div>\r\n                  <div>\r\n                    Qty:\r\n                  <select value={item.qty} onChange={(e) => dispatch(addToCart(item.product, e.target.value))}>\r\n                      {[...Array(item.countInStock).keys()].map(x =>\r\n                        <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                      )}\r\n                    </select>\r\n                    <button type=\"button\" className=\"button\" onClick={() => removeFromCartHandler(item.product)} >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"cart-price\">\r\n                  Ksh{item.price}\r\n                </div>\r\n              </li>\r\n            )\r\n        }\r\n      </ul>\r\n\r\n    </div>\r\n    <div className=\"cart-action\">\r\n      <h3>\r\n        Subtotal ( {cartItems.reduce((a, c) => a + c.qty, 0)} items)\r\n        :\r\n         Ksh {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\r\n      </h3>\r\n      <button onClick={checkoutHandler} className=\"button primary full-width\" disabled={cartItems.length === 0}>\r\n        Proceed to Checkout\r\n      </button>\r\n\r\n    </div>\r\n\r\n  </div>\r\n}\r\nexport default CartScreen;","export const USER_SIGNIN_REQUEST = 'USER_SIGNIN_REQUEST';\r\nexport const USER_SIGNIN_SUCCESS = 'USER_SIGNIN_SUCCESS';\r\nexport const USER_SIGNIN_FAIL = 'USER_SIGNIN_FAIL';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\nexport const USER_ADDRESS_MAP_CONFIRM = 'USER_ADDRESS_MAP_CONFIRM';","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { signin } from '../actions/userActions';\r\n\r\nfunction SigninScreen(props) {\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const userSignin = useSelector(state => state.userSignin);\r\n  const { loading, userInfo, error } = userSignin;\r\n  const dispatch = useDispatch();\r\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, [userInfo]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(signin(email, password));\r\n\r\n  }\r\n  return <div className=\"form\">\r\n    <form onSubmit={submitHandler} >\r\n      <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Sign-In</h2>\r\n        </li>\r\n        <li>\r\n          {loading && <div>Loading...</div>}\r\n          {error && <div>{error}</div>}\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <button type=\"submit\" className=\"button primary\">Signin</button>\r\n        </li>\r\n        <li>\r\n          New to Vanilla Restaurant?\r\n        </li>\r\n        <li>\r\n          <Link to={redirect === \"/\" ? \"register\" : \"register?redirect=\" + redirect} className=\"button secondary text-center\" >Create your Vanilla Restaurant account</Link>\r\n        </li>\r\n      </ul>\r\n    </form>\r\n  </div>\r\n}\r\nexport default SigninScreen;","import Axios from \"axios\";\r\nimport Cookie from 'js-cookie';\r\nimport {\r\n  USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS,\r\n  USER_SIGNIN_FAIL, USER_REGISTER_REQUEST,\r\n  USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL\r\n} from \"../constants/userConstants\";\r\n\r\nconst update = ({ userId, name, email, password }) => async (dispatch, getState) => {\r\n  const { userSignin: { userInfo } } = getState();\r\n  dispatch({ type: USER_UPDATE_REQUEST, payload: { userId, name, email, password } });\r\n  try {\r\n    const { data } = await Axios.put(\"/api/users/\" + userId,\r\n      { name, email, password }, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + userInfo.token\r\n      }\r\n    });\r\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\r\n    Cookie.set('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst signin = (email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/signin\", { email, password });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });\r\n    Cookie.set('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({ type: USER_SIGNIN_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst register = (name, email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { name, email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/register\", { name, email, password });\r\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\r\n    Cookie.set('userInfo', JSON.stringify(data));\r\n  } catch (error) {\r\n    dispatch({ type: USER_REGISTER_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst logout = () => (dispatch) => {\r\n  Cookie.remove(\"userInfo\");\r\n  dispatch({ type: USER_LOGOUT })\r\n}\r\nexport { signin, register, logout, update };","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { register } from '../actions/userActions';\r\n\r\nfunction RegisterScreen(props) {\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [rePassword, setRePassword] = useState('');\r\n  const userRegister = useSelector(state => state.userRegister);\r\n  const { loading, userInfo, error } = userRegister;\r\n  const dispatch = useDispatch();\r\n\r\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      props.history.push(redirect);\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, [userInfo]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(register(name, email, password));\r\n  }\r\n  return <div className=\"form\">\r\n    <form onSubmit={submitHandler} >\r\n      <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Create Account</h2>\r\n        </li>\r\n        <li>\r\n          {loading && <div>Loading...</div>}\r\n          {error && <div>{error}</div>}\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"name\">\r\n            Name\r\n          </label>\r\n          <input type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"rePassword\">Re-Enter Password</label>\r\n          <input type=\"password\" id=\"rePassword\" name=\"rePassword\" onChange={(e) => setRePassword(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <button type=\"submit\" className=\"button primary\">Register</button>\r\n        </li>\r\n        <li>\r\n          Already have an account?\r\n          <Link to={redirect === \"/\" ? \"signin\" : \"signin?redirect=\" + redirect} className=\"button secondary text-center\" >Sign In</Link>\r\n\r\n        </li>\r\n\r\n      </ul>\r\n    </form>\r\n  </div>\r\n}\r\nexport default RegisterScreen;","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport axios from 'axios';\r\nimport {\r\n  saveProduct,\r\n  listProducts,\r\n  deleteProdcut,\r\n} from '../actions/productActions';\r\n\r\nfunction ProductsScreen(props) {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [id, setId] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [countInStock, setCountInStock] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [uploading, setUploading] = useState(false);\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, products, error } = productList;\r\n\r\n  const productSave = useSelector((state) => state.productSave);\r\n  const {\r\n    loading: loadingSave,\r\n    success: successSave,\r\n    error: errorSave,\r\n  } = productSave;\r\n\r\n  const productDelete = useSelector((state) => state.productDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    success: successDelete,\r\n    error: errorDelete,\r\n  } = productDelete;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (successSave) {\r\n      setModalVisible(false);\r\n    }\r\n    dispatch(listProducts());\r\n    return () => {\r\n      //\r\n    };\r\n  }, [successSave, successDelete]);\r\n\r\n  const openModal = (product) => {\r\n    setModalVisible(true);\r\n    setId(product._id);\r\n    setName(product.name);\r\n    setPrice(product.price);\r\n    setDescription(product.description);\r\n    setImage(product.image);\r\n    setBrand(product.brand);\r\n    setCategory(product.category);\r\n    setCountInStock(product.countInStock);\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      saveProduct({\r\n        _id: id,\r\n        name,\r\n        price,\r\n        image,\r\n        brand,\r\n        category,\r\n        countInStock,\r\n        description,\r\n      })\r\n    );\r\n  };\r\n  const deleteHandler = (product) => {\r\n    dispatch(deleteProdcut(product._id));\r\n  };\r\n  const uploadFileHandler = (e) => {\r\n    const file = e.target.files[0];\r\n    const bodyFormData = new FormData();\r\n    bodyFormData.append('image', file);\r\n    setUploading(true);\r\n    axios\r\n      .post('/api/uploads', bodyFormData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      })\r\n      .then((response) => {\r\n        setImage(response.data);\r\n        setUploading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setUploading(false);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"content content-margined\">\r\n      <div className=\"product-header\">\r\n        <h3>Products</h3>\r\n        <button className=\"button primary\" onClick={() => openModal({})}>\r\n          Create Product\r\n        </button>\r\n      </div>\r\n      {modalVisible && (\r\n        <div className=\"form\">\r\n          <form onSubmit={submitHandler}>\r\n            <ul className=\"form-container\">\r\n              <li>\r\n                <h2>Create Product</h2>\r\n              </li>\r\n              <li>\r\n                {loadingSave && <div>Loading...</div>}\r\n                {errorSave && <div>{errorSave}</div>}\r\n              </li>\r\n\r\n              <li>\r\n                <label htmlFor=\"name\">Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  id=\"name\"\r\n                  onChange={(e) => setName(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"price\">Price</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"price\"\r\n                  value={price}\r\n                  id=\"price\"\r\n                  onChange={(e) => setPrice(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"image\">Image</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"image\"\r\n                  value={image}\r\n                  id=\"image\"\r\n                  onChange={(e) => setImage(e.target.value)}\r\n                ></input>\r\n                <input type=\"file\" onChange={uploadFileHandler}></input>\r\n                {uploading && <div>Uploading...</div>}\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"brand\">Brand</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"brand\"\r\n                  value={brand}\r\n                  id=\"brand\"\r\n                  onChange={(e) => setBrand(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"countInStock\">CountInStock</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"countInStock\"\r\n                  value={countInStock}\r\n                  id=\"countInStock\"\r\n                  onChange={(e) => setCountInStock(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"name\">Category</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"category\"\r\n                  value={category}\r\n                  id=\"category\"\r\n                  onChange={(e) => setCategory(e.target.value)}\r\n                ></input>\r\n              </li>\r\n              <li>\r\n                <label htmlFor=\"description\">Description</label>\r\n                <textarea\r\n                  name=\"description\"\r\n                  value={description}\r\n                  id=\"description\"\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                ></textarea>\r\n              </li>\r\n              <li>\r\n                <button type=\"submit\" className=\"button primary\">\r\n                  {id ? 'Update' : 'Create'}\r\n                </button>\r\n              </li>\r\n              <li>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setModalVisible(false)}\r\n                  className=\"button secondary\"\r\n                >\r\n                  Back\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"product-list\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Name</th>\r\n              <th>Price</th>\r\n              <th>Category</th>\r\n              <th>Brand</th>\r\n              <th>Action</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products.map((product) => (\r\n              <tr key={product._id}>\r\n                <td>{product._id}</td>\r\n                <td>{product.name}</td>\r\n                <td>{product.price}</td>\r\n                <td>{product.category}</td>\r\n                <td>{product.brand}</td>\r\n                <td>\r\n                  <button className=\"button\" onClick={() => openModal(product)}>\r\n                    Edit\r\n                  </button>{' '}\r\n                  <button\r\n                    className=\"button\"\r\n                    onClick={() => deleteHandler(product)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ProductsScreen;","import React from 'react';\r\nfunction CheckoutSteps(props) {\r\n  return <div className=\"checkout-steps\">\r\n    <div className={props.step1 ? 'active' : ''} >Signin</div>\r\n    <div className={props.step2 ? 'active' : ''} >Shipping</div>\r\n    <div className={props.step3 ? 'active' : ''} >Payment</div>\r\n    <div className={props.step4 ? 'active' : ''} >Place Order</div>\r\n  </div>\r\n}\r\n\r\nexport default CheckoutSteps;","\r\nimport React, {  useState } from 'react';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { saveShipping } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nfunction ShippingScreen(props) {\r\n\r\n    const [address, setAddress] = useState('');\r\n  const [estate, setEstate] = useState('');\r\n  const [postalCode, setPostalCode] = useState('');\r\n  const [phonenumber, setPhonenumber] = useState('');\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n\r\n  const { userInfo } = userSignin;\r\n \r\n  const dispatch = useDispatch();\r\n  if (!userInfo) {\r\n    props.history.push('/signin');\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(saveShipping({ address, estate, postalCode, phonenumber }));\r\n    props.history.push('/payment');\r\n  }\r\n  return <div>\r\n    <CheckoutSteps step1 step2 ></CheckoutSteps>\r\n    <div className=\"form\">\r\n      <form onSubmit={submitHandler} >\r\n        <ul className=\"form-container\">\r\n          <li>\r\n            <h2>Shipping</h2>\r\n          </li>\r\n\r\n                    <li>\r\n             <label htmlFor=\"address\">\r\n               Address\r\n           </label>\r\n             <input type=\"text\" name=\"address\" id=\"address\" onChange={(e) => setAddress(e.target.value)}>\r\n            </input>\r\n          </li>\r\n           <li>\r\n             <label htmlFor=\"estate\">\r\n              Estate\r\n           </label>\r\n             <input type=\"text\" name=\"estate\" id=\"estate\" onChange={(e) => setEstate(e.target.value)}>\r\n             </input>\r\n           </li>\r\n           <li>\r\n             <label htmlFor=\"postalCode\">\r\n               Postal Code\r\n           </label>\r\n             <input type=\"text\" name=\"postalCode\" id=\"postalCode\" onChange={(e) => setPostalCode(e.target.value)}>\r\n             </input>\r\n           </li>\r\n           \r\n           \r\n           <li>\r\n             <label htmlFor=\"phonenumber\">\r\n               Phone number\r\n           </label>\r\n             <input type=\"text\" name=\"phonenumber\" id=\"phonenumber\" onChange={(e) => setPhonenumber(e.target.value)}>\r\n             </input>\r\n           </li>\r\n\r\n          <li>\r\n            <button type=\"submit\" className=\"button primary\">Continue</button>\r\n          </li>\r\n\r\n        </ul>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n}\r\nexport default ShippingScreen;","import React, {  useState } from 'react';\r\nimport {  useDispatch,useSelector } from 'react-redux';\r\nimport { savePayment } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nfunction PaymentScreen(props) {\r\n  const [paymentMethod, setPaymentMethod] = useState('');\r\n  const cart = useSelector((state) => state.cart);\r\n  const { shipping } = cart;\r\n  if (!shipping.address) {\r\n    props.history.push('/shipping');\r\n  }\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(savePayment({ paymentMethod }));\r\n    props.history.push('/placeorder');\r\n  };\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n      <div className=\"form\">\r\n        <form onSubmit={submitHandler}>\r\n          <ul className=\"form-container\">\r\n            <li>\r\n              <h2>Payment</h2>\r\n            </li>\r\n\r\n            <li>\r\n              <div>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"paymentMethod\"\r\n                  id=\"paymentMethod\"\r\n                  value=\"M-PESA\"\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                ></input>\r\n                <label for=\"paymentMethod\">M-PESA</label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"paymentMethod\"\r\n                  id=\"paymentMethod\"\r\n                  value=\"Cash On Delivery\"\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                ></input>\r\n                <label for=\"paymentMethod\">Cash On Delivery</label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"paymentMethod\"\r\n                  id=\"paymentMethod\"\r\n                  value=\"Paypal\"\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                ></input>\r\n                <label for=\"paymentMethod\">Paypal</label>\r\n               \r\n                \r\n              </div>\r\n            </li>\r\n\r\n            <li>\r\n              <button type=\"submit\" className=\"button primary\">\r\n                Continue\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default PaymentScreen;","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\nexport const ORDER_CREATE_RESET = 'ORDER_CREATE_RESET';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\n\r\nexport const MY_ORDER_LIST_REQUEST = 'MY_ORDER_LIST_REQUEST';\r\nexport const MY_ORDER_LIST_SUCCESS = 'MY_ORDER_LIST_SUCCESS';\r\nexport const MY_ORDER_LIST_FAIL = 'MY_ORDER_LIST_FAIL';\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\n\r\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\r\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\r\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST';\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS';\r\nexport const ORDER_DELIVER_FAIL = 'ORDER_DELIVER_FAIL';\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET';\r\n\r\nexport const ORDER_SUMMARY_REQUEST = 'ORDER_SUMMARY_REQUEST';\r\nexport const ORDER_SUMMARY_SUCCESS = 'ORDER_SUMMARY_SUCCESS';\r\nexport const ORDER_SUMMARY_FAIL = 'ORDER_SUMMARY_FAIL';","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport { createOrder } from '../actions/orderActions';\r\nfunction PlaceOrderScreen(props) {\r\n\r\n  const cart = useSelector(state => state.cart);\r\n  const orderCreate = useSelector(state => state.orderCreate);\r\n  const { loading, success, error, order } = orderCreate;\r\n\r\n  const { cartItems, shipping, payment } = cart;\r\n  if (!shipping.address) {\r\n    props.history.push(\"/shipping\");\r\n  } else if (!payment.paymentMethod) {\r\n    props.history.push(\"/payment\");\r\n  }\r\n  const itemsPrice = cartItems.reduce((a, c) => a + c.price * c.qty, 0);\r\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\r\n  const taxPrice = 0.15 * itemsPrice;\r\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const placeOrderHandler = () => {\r\n    // create an order\r\n    dispatch(createOrder({\r\n      orderItems: cartItems, shipping, payment, itemsPrice, shippingPrice,\r\n      taxPrice, totalPrice\r\n    }));\r\n  }\r\n  useEffect(() => {\r\n    if (success) {\r\n      props.history.push(\"/order/\" + order._id);\r\n\r\n    }\r\n\r\n  }, [dispatch, order, props.history,success]);\r\n\r\n  return <div>\r\n    <CheckoutSteps step1 step2 step3 step4 ></CheckoutSteps>\r\n    <div className=\"placeorder\">\r\n      <div className=\"placeorder-info\">\r\n        <div>\r\n          <h3>\r\n            Shipping\r\n          </h3>\r\n          <div>\r\n            {cart.shipping.address}, {cart.shipping.city},\r\n          {cart.shipping.postalCode}, {cart.shipping.country},\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h3>Payment</h3>\r\n          <div>\r\n            Payment Method: {cart.payment.paymentMethod}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <ul className=\"cart-list-container\">\r\n            <li>\r\n              <h3>\r\n                Shopping Cart\r\n          </h3>\r\n              <div>\r\n                Price\r\n          </div>\r\n            </li>\r\n            {\r\n              cartItems.length === 0 ?\r\n                <div>\r\n                  Cart is empty\r\n          </div>\r\n                :\r\n                cartItems.map(item =>\r\n                  <li>\r\n                    <div className=\"cart-image\">\r\n                      <img src={item.image} alt=\"product\" />\r\n                    </div>\r\n                    <div className=\"cart-name\">\r\n                      <div>\r\n                        <Link to={\"/product/\" + item.product}>\r\n                          {item.name}\r\n                        </Link>\r\n\r\n                      </div>\r\n                      <div>\r\n                        Qty: {item.qty}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"cart-price\">\r\n                      Ksh{item.price}\r\n                    </div>\r\n                  </li>\r\n                )\r\n            }\r\n          </ul>\r\n        </div>\r\n\r\n      \r\n      </div>\r\n      <div className=\"placeorder-action\">\r\n        <ul>\r\n          <li>\r\n            <button className=\"button primary full-width\" onClick={placeOrderHandler} >Place Order</button>\r\n          </li>\r\n          <li>\r\n            <h3>Order Summary</h3>\r\n          </li>\r\n          <li>\r\n            <div>Items</div>\r\n            <div>Ksh{itemsPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Shipping</div>\r\n            <div>Ksh{shippingPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Tax</div>\r\n            <div>Ksh{taxPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Order Total</div>\r\n            <div>Ksh{totalPrice}</div>\r\n          </li>\r\n        </ul>\r\n\r\n\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n}\r\n\r\nexport default PlaceOrderScreen;","import Axios from \"axios\";\r\nimport { ORDER_DELIVER_REQUEST,\r\n  ORDER_DELIVER_SUCCESS,\r\n  ORDER_DELIVER_FAIL,\r\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\r\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL, ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL, MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL, ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL,ORDER_SUMMARY_REQUEST,\r\n  ORDER_SUMMARY_SUCCESS,\r\n} from \"../constants/orderConstants\";\r\n\r\nconst createOrder = (order) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data: { data: newOrder } } = await Axios.post(\"/api/orders\", order, {\r\n      headers: {\r\n        Authorization: ' Bearer ' + userInfo.token\r\n      }\r\n    });\r\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: newOrder });\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_CREATE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst listMyOrders = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: MY_ORDER_LIST_REQUEST });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/orders/mine\",{\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: MY_ORDER_LIST_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: MY_ORDER_LIST_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst listOrders = () => async (dispatch, getState) => {\r\n\r\n  try {\r\n    dispatch({ type: ORDER_LIST_REQUEST });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/orders\", {\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data})\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_LIST_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst detailsOrder = (orderId) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.get(`/api/orders/${orderId}`, {\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_DETAILS_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_PAY_REQUEST, payload: paymentResult });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/pay\", paymentResult, {\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst deleteOrder = (orderId) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.delete(\"/api/orders/\" + orderId, {\r\n      headers:\r\n        { Authorization: 'Bearer ' + userInfo.token }\r\n    });\r\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_DELETE_FAIL, payload: error.message });\r\n  }\r\n}\r\nexport const deliverOrder = (orderId) => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_DELIVER_REQUEST, payload: orderId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = Axios.put(\r\n      `/api/orders/${orderId}/deliver`,\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${userInfo.token}` },\r\n      }\r\n    );\r\n    dispatch({ type: ORDER_DELIVER_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: ORDER_DELIVER_FAIL, payload: message });\r\n  }\r\n};\r\nexport const summaryOrder = () => async (dispatch, getState) => {\r\n  dispatch({ type: ORDER_SUMMARY_REQUEST });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.get('/api/orders/summary/id', {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: ORDER_SUMMARY_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport { createOrder, detailsOrder, payOrder, listMyOrders, listOrders, deleteOrder };","import React, { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\nfunction PaypalButton(props) {\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  const addPaypalSdk = async () => {\r\n    const result = await axios.get(\"/api/config/paypal\");\r\n    const clientID = result.data;\r\n    const script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = 'https://www.paypal.com/sdk/js?client-id=' + clientID;\r\n    \r\n    script.async = true;\r\n    script.onload = () => {\r\n      setSdkReady(true);\r\n    }\r\n    document.body.appendChild(script);\r\n  }\r\n\r\n  const createOrder = (data, actions) => actions.order.create({\r\n    purchase_units: [\r\n      {\r\n        amount: {\r\n          currency_code:'USD',\r\n          value: props.amount\r\n        }\r\n      }\r\n    ]\r\n  });\r\n\r\n  const onApprove = (data, actions) => actions.order\r\n    .capture()\r\n    .then(details => props.onSuccess(data, details))\r\n    .catch(err => console.log(err));\r\n\r\n  useEffect(() => {\r\n    if (!window.paypal) {\r\n      addPaypalSdk();\r\n    }else {\r\n      setSdkReady(true);\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, []);\r\n  \r\n\r\n  if (!sdkReady) {\r\n    return <div>Loading...</div>\r\n  }\r\n\r\n  const Button = window.paypal.Buttons.driver('react', { React, ReactDOM });\r\n\r\n  return <Button {...props} createOrder={(data, actions) => createOrder(data, actions)}\r\n    onApprove={(data, actions) => onApprove(data, actions)} />\r\n}\r\n\r\nexport default PaypalButton;","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { createOrder, detailsOrder, payOrder } from '../actions/orderActions';\r\nimport PaypalButton from '../components/PaypalButton';\r\nfunction OrderScreen(props) {\r\n\r\n  const orderPay = useSelector(state => state.orderPay);\r\n  const { loading: loadingPay, success: successPay, error: errorPay } = orderPay;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (successPay) {\r\n      props.history.push(\"/profile\");\r\n    } else {\r\n      dispatch(detailsOrder(props.match.params.id));\r\n    }\r\n    return () => {\r\n    };\r\n  }, [successPay]);\r\n\r\n  const handleSuccessPayment = (paymentResult) => {\r\n    dispatch(payOrder(order, paymentResult));\r\n  }\r\n\r\n  const orderDetails = useSelector(state => state.orderDetails);\r\n  const { loading, order, error } = orderDetails;\r\n\r\n  return loading ? <div>Loading ...</div> : error ? <div>{error}</div> :\r\n\r\n    <div>\r\n      <div className=\"placeorder\">\r\n        <div className=\"placeorder-info\">\r\n          <div>\r\n            <h3>\r\n              Shipping\r\n          </h3>\r\n            <div>\r\n              {order.shipping.address}, {order.shipping.estate},\r\n          {order.shipping.postalCode}, {order.shipping.phonenumber},\r\n          </div>\r\n            <div>\r\n              {order.isDelivered ? \"Delivered at \" + order.deliveredAt : \"Not Delivered.\"}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h3>Payment</h3>\r\n            <div>\r\n              Payment Method: {order.payment.paymentMethod}\r\n            </div>\r\n            <div>\r\n              {order.isPaid ? \"Paid at \" + order.paidAt : \"Not Paid.\"}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <ul className=\"cart-list-container\">\r\n              <li>\r\n                <h3>\r\n                  Shopping Cart\r\n          </h3>\r\n                <div>\r\n                  Price\r\n          </div>\r\n              </li>\r\n              {\r\n                order.orderItems.length === 0 ?\r\n                  <div>\r\n                    Cart is empty\r\n          </div>\r\n                  :\r\n                  order.orderItems.map(item =>\r\n                    <li key={item._id}>\r\n                      <div className=\"cart-image\">\r\n                        <img src={item.image} alt=\"product\" />\r\n                      </div>\r\n                      <div className=\"cart-name\">\r\n                        <div>\r\n                          <Link to={\"/product/\" + item.product}>\r\n                            {item.name}\r\n                          </Link>\r\n\r\n                        </div>\r\n                        <div>\r\n                          Qty: {item.qty}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"cart-price\">\r\n                        Ksh{item.price}\r\n                      </div>\r\n                    </li>\r\n                  )\r\n              }\r\n            </ul>\r\n          </div>\r\n\r\n\r\n        </div>\r\n        <div className=\"placeorder-action\">\r\n          <ul>\r\n            <li className=\"placeorder-actions-payment\">\r\n              {loadingPay && <div>Finishing Payment...</div>}\r\n              {!order.isPaid &&\r\n                <PaypalButton\r\n                  amount={order.totalPrice}\r\n                  onSuccess={handleSuccessPayment} />\r\n              }\r\n            </li>\r\n            <li>\r\n              <h3>Order Summary</h3>\r\n            </li>\r\n            <li>\r\n              <div>Items</div>\r\n              <div>Ksh{order.itemsPrice}</div>\r\n            </li>\r\n            <li>\r\n              <div>Shipping</div>\r\n              <div>Ksh{order.shippingPrice}</div>\r\n            </li>\r\n            <li>\r\n              <div>Tax</div>\r\n              <div>Ksh{order.taxPrice}</div>\r\n            </li>\r\n            <li>\r\n              <div>Order Total</div>\r\n              <div>Ksh{order.totalPrice}</div>\r\n            </li>\r\n          </ul>\r\n\r\n\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n}\r\n\r\nexport default OrderScreen;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { logout, update } from '../actions/userActions';\r\nimport { listMyOrders } from '../actions/orderActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction ProfileScreen(props) {\r\n  const [name, setName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const userSignin = useSelector(state => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n    props.history.push(\"/signin\");\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(update({ userId: userInfo._id, email, name, password }))\r\n  }\r\n  const userUpdate = useSelector(state => state.userUpdate);\r\n  const { loading, success, error } = userUpdate;\r\n\r\n  const myOrderList = useSelector(state => state.myOrderList);\r\n  const { loading: loadingOrders, orders, error: errorOrders } = myOrderList;\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      console.log(userInfo.name)\r\n      setEmail(userInfo.email);\r\n      setName(userInfo.name);\r\n      setPassword(userInfo.password);\r\n    }\r\n    \r\n    dispatch(listMyOrders());\r\n    return () => {\r\n//\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return <div className=\"profile\">\r\n    <div className=\"profile-info\">\r\n      <div className=\"form\">\r\n        <form onSubmit={submitHandler} >\r\n          <ul className=\"form-container\">\r\n            <li>\r\n              <h2>User Profile</h2>\r\n            </li>\r\n            <li>\r\n              {loading && <div>Loading...</div>}\r\n              {error && <div>{error}</div>}\r\n              {success && <div>Profile Saved Successfully.</div>}\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"name\">\r\n                Name\r\n          </label>\r\n              <input value={name} type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)}>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"email\">\r\n                Email\r\n          </label>\r\n              <input value={email} type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input value={password} type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\r\n              </input>\r\n            </li>\r\n\r\n            <li>\r\n              <button type=\"submit\" className=\"button primary\">Update</button>\r\n            </li>\r\n            <li>\r\n              <button type=\"button\" onClick={handleLogout} className=\"button secondary full-width\">Logout</button>\r\n            </li>\r\n\r\n          </ul>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div className=\"profile-orders content-margined\">\r\n      {\r\n        loadingOrders ? <div>Loading...</div> :\r\n          errorOrders ? <div>{errorOrders} </div> :\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>DATE</th>\r\n                  <th>TOTAL</th>\r\n                  <th>PAID</th>\r\n                  <th>ACTIONS</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {orders.map(order => <tr key={order._id}>\r\n                  <td>{order._id}</td>\r\n                  <td>{order.createdAt.substring(0, 10)}</td>\r\n                  <td>{order.totalPrice}</td>\r\n                  <td>{order.isPaid ? order.paidAt.substring(0, 10) : 'No'}</td>\r\n                  <td>\r\n                  {order.isDelivered\r\n                    ? order.deliveredAt.substring(0, 10)\r\n                    : 'No'}\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"small\"\r\n                    onClick={() => {\r\n                      props.history.push(`/order/${order._id}`);\r\n                    }}\r\n                  >\r\n                    Details\r\n                  </button>\r\n                </td>\r\n                </tr>)}\r\n              </tbody>\r\n            </table>\r\n      }\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default ProfileScreen;","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { listOrders, deleteOrder } from '../actions/orderActions';\r\n\r\nfunction OrdersScreen(props) {\r\n  const orderList = useSelector(state => state.orderList);\r\n  const { loading, orders, error } = orderList;\r\n\r\n  const orderDelete = useSelector(state => state.orderDelete);\r\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = orderDelete;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(listOrders());\r\n    return () => {\r\n      //\r\n    };\r\n  }, [successDelete]);\r\n\r\n  const deleteHandler = (order) => {\r\n    if (window.confirm('Are you sure to delete?')) {\r\n      dispatch(deleteOrder(order._id));\r\n    }\r\n  }\r\n  return loading ? <div>Loading...</div> :\r\n    <div className=\"content content-margined\">\r\n\r\n      <div className=\"order-header\">\r\n        <h3>Orders</h3>\r\n      </div>\r\n      <div className=\"order-list\">\r\n\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>USER</th>\r\n              <th>PAID</th>\r\n              <th>PAID AT</th>\r\n              <th>DELIVERED</th>\r\n              <th>DELIVERED AT</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map(order => (<tr key={order._id}>\r\n              <td>{order._id}</td>\r\n              <td>{order.createdAt.substring(0, 10)}</td>\r\n              <td>{order.totalPrice}</td>\r\n              <td>{order.user.name}</td>\r\n              <td>{order.isPaid ? order.paidAt.substring(0, 10) : 'No'}</td>\r\n              <td>{order.paidAt}</td>\r\n              <td> {order.isDelivered\r\n                    ? order.deliveredAt.substring(0, 10)\r\n                    : 'No'}</td>\r\n              <td>{order.deliveredAt}</td>\r\n              <td>\r\n              <Link to={\"/order/\" + order._id} className=\"button secondary\" >Details</Link>\r\n                {' '}\r\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\r\n              </td>\r\n            </tr>))}\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n    </div>\r\n}\r\nexport default OrdersScreen;","import { css } from \"styled-components\";\r\n\r\nexport const mobile = (props) => {\r\n  return css`\r\n    @media only screen and (max-width: 380px) {\r\n      ${props}\r\n    }\r\n  `;\r\n};","import React, { useEffect, useRef, useState } from 'react';\r\nimport socketIOClient from 'socket.io-client';\r\n\r\nconst ENDPOINT =\r\n  window.location.host.indexOf('localhost') >= 0\r\n    ? 'http://127.0.0.1:5000'\r\n    : window.location.host;\r\n\r\nexport default function ChatBox(props) {\r\n  const { userInfo } = props;\r\n  const [socket, setSocket] = useState(null);\r\n  const uiMessagesRef = useRef(null);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [messageBody, setMessageBody] = useState('');\r\n  const [messages, setMessages] = useState([\r\n    { name: 'Admin', body: 'Hello there, Please ask your question.' },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (uiMessagesRef.current) {\r\n      uiMessagesRef.current.scrollBy({\r\n        top: uiMessagesRef.current.clientHeight,\r\n        left: 0,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n    if (socket) {\r\n      socket.emit('onLogin', {\r\n        _id: userInfo._id,\r\n        name: userInfo.name,\r\n        isAdmin: userInfo.isAdmin,\r\n      });\r\n      socket.on('message', (data) => {\r\n        setMessages([...messages, { body: data.body, name: data.name }]);\r\n      });\r\n    }\r\n  }, [messages, isOpen, socket]);\r\n\r\n  const supportHandler = () => {\r\n    setIsOpen(true);\r\n    console.log(ENDPOINT);\r\n    const sk = socketIOClient(ENDPOINT);\r\n    setSocket(sk);\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (!messageBody.trim()) {\r\n      alert('Error. Please type message.');\r\n    } else {\r\n      setMessages([...messages, { body: messageBody, name: userInfo.name }]);\r\n      setMessageBody('');\r\n      setTimeout(() => {\r\n        socket.emit('onMessage', {\r\n          body: messageBody,\r\n          name: userInfo.name,\r\n          isAdmin: userInfo.isAdmin,\r\n          _id: userInfo._id,\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n  const closeHandler = () => {\r\n    setIsOpen(false);\r\n  };\r\n  return (\r\n    <div className=\"chatbox\">\r\n      {!isOpen ? (\r\n        <button type=\"button\" onClick={supportHandler}>\r\n          <i className=\"fa fa-support fa-4x\"/>\r\n          \r\n        </button>\r\n      ) : (\r\n        <div className=\"card card-body\">\r\n          <div className=\"row\">\r\n            <strong>Support </strong>\r\n            <button type=\"button\" onClick={closeHandler}>\r\n              <i className=\"fa fa-close\" />\r\n            </button>\r\n          </div>\r\n          <ul ref={uiMessagesRef}>\r\n            {messages.map((msg, index) => (\r\n              <li key={index}>\r\n                <strong>{`${msg.name}: `}</strong> {msg.body}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <div>\r\n            <form onSubmit={submitHandler} className=\"row\">\r\n              <input\r\n                value={messageBody}\r\n                onChange={(e) => setMessageBody(e.target.value)}\r\n                type=\"text\"\r\n                placeholder=\"type message\"\r\n              />\r\n              <button type=\"submit\">Send</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","\r\nimport {\r\n  Facebook,\r\n  Instagram,\r\n  MailOutline,\r\n  Phone,\r\n  Pinterest,\r\n  WhatsApp,\r\n  Room,\r\n} from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\nimport { mobile } from \"../responsive\";\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport ChatBox from '../components/ChatBox';\r\n\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  ${mobile({ flexDirection: \"column\" })}\r\n`;\r\n\r\nconst Left = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n`;\r\n\r\nconst Logo = styled.h1``;\r\n\r\nconst Desc = styled.p`\r\n  margin: 20px 0px;\r\n`;\r\n\r\nconst SocialContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst SocialIcon = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  color: white;\r\n  background-color: #${(props) => props.color};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst Center = styled.div`\r\n  flex-direction: column;\r\n  flex: 1;\r\n  padding: 20px;\r\n  ${mobile({ display: \"flex\" })}\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst List = styled.ul`\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  ${mobile({ backgroundColor: \"#fff8f8\" })}\r\n`;\r\n\r\nconst ListItem = styled.li`\r\n  width: 50%;\r\n  margin-bottom: 10px;\r\n  ${mobile({ backgroundColor: \"#fff8f8\" })}\r\n`;\r\n\r\nconst Right = styled.div`\r\n  flex: 1;\r\n  padding: 20px;\r\n  ${mobile({ backgroundColor: \"#fff8f8\" })}\r\n`;\r\n\r\nconst ContactItem = styled.div`\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  ${mobile({ backgroundColor: \"#fff8f8\" })}\r\n`;\r\n\r\n\r\n\r\nconst Footer = () => {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  return (\r\n      <>\r\n    <Container>\r\n      <Left>\r\n        <Logo>Vanilla Restaurant.</Logo>\r\n        <Desc>\r\n          There are many variations of foods,desserts and drinks to enjoy from our prestigious restaurant.\r\n        </Desc>\r\n         <Title>Follow Us On</Title>\r\n        <SocialContainer>\r\n       \r\n          <SocialIcon color=\"3B5999\">\r\n          <a href=\"https://facebook.com/vanillarestaurant\"rel=\"noopener noreferrer\"target=\"_blank\">\r\n            <Facebook />\r\n            </a>\r\n          </SocialIcon>\r\n          <SocialIcon color=\"E4405F\">\r\n<a href=\"https://instagram.com/vanillarestaurant\"rel=\"noopener noreferrer\"target=\"_blank\">\r\n            <Instagram />\r\n            </a>\r\n          </SocialIcon>\r\n          <SocialIcon color=\"55ACEE\">\r\n          <a href=\"tel://0728131955\"rel=\"noopener noreferrer\"target=\"_blank\">\r\n            <WhatsApp />\r\n            </a>\r\n          </SocialIcon>\r\n          <SocialIcon color=\"E60023\">\r\n          <a href=\"https://pinterest.com/vanillarestaurant\"rel=\"noopener noreferrer\"target=\"_blank\">\r\n            <Pinterest />\r\n            </a>\r\n          </SocialIcon>\r\n        </SocialContainer>\r\n      </Left>\r\n      <Center>\r\n        <Title>Useful Links</Title>\r\n        <List>\r\n          <ListItem> <Link to=\"/\">Home</Link></ListItem>\r\n          <ListItem><Link to=\"/category/BigMeals\">Big Meals</Link></ListItem>\r\n          <ListItem><Link to=\"/category/Breakfast\">Breakfast</Link></ListItem>\r\n          <ListItem><Link to=\"/category/Desserts\">Desserts</Link></ListItem>\r\n          <ListItem><Link to=\"/category/Drinks\">Drinks</Link></ListItem>\r\n          <ListItem><Link to=\"/profile\">My Account</Link></ListItem>\r\n          <ListItem><Link to=\"/shipping\">OrderTracking</Link></ListItem>\r\n        </List>\r\n        <Title>OPENING TIMES</Title>\r\n        <ListItem>Mon - Sat: 8am - 7pm</ListItem>\r\n          <ListItem>Sundays: 8am - 6pm</ListItem>\r\n      </Center>\r\n      <Right>\r\n        <Title>Contact Us</Title>\r\n        <ContactItem>\r\n          <Room style={{marginRight:\"10px\"}}/> 589,Royal Park Langata, Nairobi\r\n        </ContactItem>\r\n        <ContactItem>\r\n          <Phone style={{marginRight:\"10px\"}}/><a href=\"tel://0728131955\">+254728131955</a>\r\n        </ContactItem>\r\n        <ContactItem>\r\n          <MailOutline style={{marginRight:\"10px\"}} /><a href=\"mailto://vanillarestaurant@gmail.com\">vanillarestaurant@gmail.com</a>\r\n        </ContactItem>\r\n        <ContactItem>\r\n        <a  target=\"_blank\" rel=\"noreferrer\" class=\"button-icon\" href=\"https://www.google.com/maps/place/Royal+Park+Estate/@-1.3284223,36.7732175,17z/data=!4m9!1m2!2m1!1sroyal+park+langata!3m5!1s0x0:0x1f2bb156cf666be4!8m2!3d-1.3285614!4d36.7781281!15sChJyb3lhbCBwYXJrIGxhbmdhdGGSARVyZXNpZGVudHNfYXNzb2NpYXRpb24\"><i class=\"fa fa-map-marker\" aria-hidden=\"true\"></i> Find us on google maps</a>\r\n        </ContactItem>\r\n        \r\n        <a href=\"/\" class=\"move-top\">This Way Up</a>\r\n\t\t\t<img src=\"//cdn.shopify.com/s/files/1/0015/1185/0042/t/14/assets/footer-icon.jpg?v=10449586777609619721\" alt=\"Vanilla &amp; Restaurant\" loading=\"lazy\" importance=\"low\"/> \r\n      \r\n      </Right>\r\n      \r\n        \r\n    </Container>\r\n    \r\n        </>\r\n  );\r\n};\r\nexport default Footer;","import React from 'react';\r\n\r\nexport default function LoadingBox() {\r\n  return (\r\n    <div className=\"loading\">\r\n      <i className=\"fa fa-spinner fa-spin\"></i> Loading...\r\n    </div>\r\n  );\r\n}","import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  LoadScript,\r\n  GoogleMap,\r\n  StandaloneSearchBox,\r\n  Marker,\r\n} from '@react-google-maps/api';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport Axios from 'axios';\r\nimport { USER_ADDRESS_MAP_CONFIRM } from '../constants/userConstants';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst libs = ['places'];\r\nconst defaultLocation = { lat: 45.516, lng: -73.56 };\r\n\r\nexport default function MapScreen(props) {\r\n  const [googleApiKey, setGoogleApiKey] = useState('');\r\n  const [center, setCenter] = useState(defaultLocation);\r\n  const [location, setLocation] = useState(center);\r\n\r\n  const mapRef = React.useRef();\r\n  const placeRef = useRef();\r\n  const markerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n      const { data } = await Axios('/api/config/google');\r\n      setGoogleApiKey(data);\r\n      getUserCurrentLocation();\r\n    };\r\n    fetch();\r\n  }, []);\r\n\r\n  const onLoad = (map) => {\r\n    mapRef.current = map;\r\n  };\r\n\r\n  const onMarkerLoad = (marker) => {\r\n    markerRef.current = marker;\r\n  };\r\n  const onLoadPlaces = (place) => {\r\n    placeRef.current = place;\r\n  };\r\n  const onIdle = () => {\r\n    setLocation({\r\n      lat: mapRef.current.center.lat(),\r\n      lng: mapRef.current.center.lng(),\r\n    });\r\n  };\r\n  const onPlacesChanged = () => {\r\n    const place = placeRef.current.getPlaces()[0].geometry.location;\r\n    setCenter({ lat: place.lat(), lng: place.lng() });\r\n    setLocation({ lat: place.lat(), lng: place.lng() });\r\n  };\r\n  const dispatch = useDispatch();\r\n  const onConfirm = () => {\r\n    const places = placeRef.current.getPlaces();\r\n    if (places && places.length === 1) {\r\n      // dispatch select action\r\n      dispatch({\r\n        type: USER_ADDRESS_MAP_CONFIRM,\r\n        payload: {\r\n          lat: location.lat,\r\n          lng: location.lng,\r\n          address: places[0].formatted_address,\r\n          name: places[0].name,\r\n          vicinity: places[0].vicinity,\r\n          googleAddressId: places[0].id,\r\n        },\r\n      });\r\n      alert('location selected successfully.');\r\n      props.history.push('/shipping');\r\n    } else {\r\n      alert('Please enter your address');\r\n    }\r\n  };\r\n\r\n  const getUserCurrentLocation = () => {\r\n    if (!navigator.geolocation) {\r\n      alert('Geolocation os not supported by this browser');\r\n    } else {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        setCenter({\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        });\r\n        setLocation({\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude,\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  return googleApiKey ? (\r\n    <div className=\"full-container\">\r\n      <LoadScript libraries={libs} googleMapsApiKey={googleApiKey}>\r\n        <GoogleMap\r\n          id=\"smaple-map\"\r\n          mapContainerStyle={{ height: '100%', width: '100%' }}\r\n          center={center}\r\n          zoom={15}\r\n          onLoad={onLoad}\r\n          onIdle={onIdle}\r\n        >\r\n          <StandaloneSearchBox\r\n            onLoad={onLoadPlaces}\r\n            onPlacesChanged={onPlacesChanged}\r\n          >\r\n            <div className=\"map-input-box\">\r\n              <input type=\"text\" placeholder=\"Enter your address\"></input>\r\n              <button type=\"button\" className=\"primary\" onClick={onConfirm}>\r\n                Confirm\r\n              </button>\r\n            </div>\r\n          </StandaloneSearchBox>\r\n          <Marker position={location} onLoad={onMarkerLoad}></Marker>\r\n        </GoogleMap>\r\n      </LoadScript>\r\n    </div>\r\n  ) : (\r\n    <LoadingBox></LoadingBox>\r\n  );\r\n}","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userInfo ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to=\"/signin\" />\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n}","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function AdminRoute({ component: Component, ...rest }) {\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userInfo && userInfo.isAdmin ? (\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect to=\"/signin\" />\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n}","import React from 'react';\r\n\r\nexport default function MessageBox(props) {\r\n  return (\r\n    <div className={`alert alert-${props.variant || 'info'}`}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n}","import React, { useEffect, useRef, useState } from 'react';\r\nimport socketIOClient from 'socket.io-client';\r\nimport { useSelector } from 'react-redux';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nlet allUsers = [];\r\nlet allMessages = [];\r\nlet allSelectedUser = {};\r\nconst ENDPOINT =\r\n  window.location.host.indexOf('localhost') >= 0\r\n    ? 'http://127.0.0.1:5000'\r\n    : window.location.host;\r\n\r\nexport default function SupportScreen() {\r\n  const [selectedUser, setSelectedUser] = useState({});\r\n  const [socket, setSocket] = useState(null);\r\n  const uiMessagesRef = useRef(null);\r\n  const [messageBody, setMessageBody] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\n\r\n  useEffect(() => {\r\n    if (uiMessagesRef.current) {\r\n      uiMessagesRef.current.scrollBy({\r\n        top: uiMessagesRef.current.clientHeight,\r\n        left: 0,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n\r\n    if (!socket) {\r\n      const sk = socketIOClient(ENDPOINT);\r\n      setSocket(sk);\r\n      sk.emit('onLogin', {\r\n        _id: userInfo._id,\r\n        name: userInfo.name,\r\n        isAdmin: userInfo.isAdmin,\r\n      });\r\n      sk.on('message', (data) => {\r\n        if (allSelectedUser._id === data._id) {\r\n          allMessages = [...allMessages, data];\r\n        } else {\r\n          const existUser = allUsers.find((user) => user._id === data._id);\r\n          if (existUser) {\r\n            allUsers = allUsers.map((user) =>\r\n              user._id === existUser._id ? { ...user, unread: true } : user\r\n            );\r\n            setUsers(allUsers);\r\n          }\r\n        }\r\n        setMessages(allMessages);\r\n      });\r\n      sk.on('updateUser', (updatedUser) => {\r\n        const existUser = allUsers.find((user) => user._id === updatedUser._id);\r\n        if (existUser) {\r\n          allUsers = allUsers.map((user) =>\r\n            user._id === existUser._id ? updatedUser : user\r\n          );\r\n          setUsers(allUsers);\r\n        } else {\r\n          allUsers = [...allUsers, updatedUser];\r\n          setUsers(allUsers);\r\n        }\r\n      });\r\n      sk.on('listUsers', (updatedUsers) => {\r\n        allUsers = updatedUsers;\r\n        setUsers(allUsers);\r\n      });\r\n      sk.on('selectUser', (user) => {\r\n        allMessages = user.messages;\r\n        setMessages(allMessages);\r\n      });\r\n    }\r\n  }, [messages, socket, users]);\r\n\r\n  const selectUser = (user) => {\r\n    allSelectedUser = user;\r\n    setSelectedUser(allSelectedUser);\r\n    const existUser = allUsers.find((x) => x._id === user._id);\r\n    if (existUser) {\r\n      allUsers = allUsers.map((x) =>\r\n        x._id === existUser._id ? { ...x, unread: false } : x\r\n      );\r\n      setUsers(allUsers);\r\n    }\r\n    socket.emit('onUserSelected', user);\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (!messageBody.trim()) {\r\n      alert('Error. Please type message.');\r\n    } else {\r\n      allMessages = [\r\n        ...allMessages,\r\n        { body: messageBody, name: userInfo.name },\r\n      ];\r\n      setMessages(allMessages);\r\n      setMessageBody('');\r\n      setTimeout(() => {\r\n        socket.emit('onMessage', {\r\n          body: messageBody,\r\n          name: userInfo.name,\r\n          isAdmin: userInfo.isAdmin,\r\n          _id: selectedUser._id,\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"row top full-container\">\r\n      <div className=\"col-1 support-users\">\r\n        {users.filter((x) => x._id !== userInfo._id).length === 0 && (\r\n          <MessageBox>No Online User Found</MessageBox>\r\n        )}\r\n        <ul>\r\n          {users\r\n            .filter((x) => x._id !== userInfo._id)\r\n            .map((user) => (\r\n              <li\r\n                key={user._id}\r\n                className={user._id === selectedUser._id ? '  selected' : '  '}\r\n              >\r\n                <button\r\n                  className=\"block\"\r\n                  type=\"button\"\r\n                  onClick={() => selectUser(user)}\r\n                >\r\n                  {user.name}\r\n                </button>\r\n                <span\r\n                  className={\r\n                    user.unread ? 'unread' : user.online ? 'online' : 'offline'\r\n                  }\r\n                />\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </div>\r\n      <div className=\"col-3 support-messages\">\r\n        {!selectedUser._id ? (\r\n          <MessageBox>Select a user to start chat</MessageBox>\r\n        ) : (\r\n          <div>\r\n            <div className=\"row\">\r\n              <strong>Chat with {selectedUser.name} </strong>\r\n            </div>\r\n            <ul ref={uiMessagesRef}>\r\n              {messages.length === 0 && <li>No message.</li>}\r\n              {messages.map((msg, index) => (\r\n                <li key={index}>\r\n                  <strong>{`${msg.name}: `}</strong> {msg.body}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <div>\r\n              <form onSubmit={submitHandler} className=\"row\">\r\n                <input\r\n                  value={messageBody}\r\n                  onChange={(e) => setMessageBody(e.target.value)}\r\n                  type=\"text\"\r\n                  placeholder=\"type message\"\r\n                />\r\n                <button type=\"submit\">Send</button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Chart from 'react-google-charts';\r\nimport { summaryOrder } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function DashboardScreen() {\r\n  const orderSummary = useSelector((state) => state.orderSummary);\r\n  const { loading, summary, error } = orderSummary;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(summaryOrder());\r\n  }, [dispatch]);\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <h1>Dashboard</h1>\r\n      </div>\r\n      {loading ? (\r\n        <LoadingBox />\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <>\r\n          <ul className=\"row summary\">\r\n            <li>\r\n              <div className=\"summary-title color1\">\r\n                <span>\r\n                  <i className=\"fa fa-users\" /> Users\r\n                </span>\r\n              </div>\r\n              <div className=\"summary-body\">{summary.users[0].numUsers}</div>\r\n            </li>\r\n            <li>\r\n              <div className=\"summary-title color2\">\r\n                <span>\r\n                  <i className=\"fa fa-shopping-cart\" /> Orders\r\n                </span>\r\n              </div>\r\n              <div className=\"summary-body\">\r\n                {summary.orders[0] ? summary.orders[0].numOrders : 0}\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div className=\"summary-title color3\">\r\n                <span>\r\n                  <i className=\"fa fa-money\" /> Sales\r\n                </span>\r\n              </div>\r\n              <div className=\"summary-body\">\r\n                Ksh\r\n                {summary.orders[0]\r\n                  ? summary.orders[0].totalSales.toFixed(2)\r\n                  : 0}\r\n              </div>\r\n            </li>\r\n          </ul>\r\n          <div>\r\n            <div>\r\n              <h2>Sales</h2>\r\n              {summary.dailyOrders.length === 0 ? (\r\n                <MessageBox>No Sale</MessageBox>\r\n              ) : (\r\n                <Chart\r\n                  width=\"100%\"\r\n                  height=\"400px\"\r\n                  chartType=\"AreaChart\"\r\n                  loader={<div>Loading Chart</div>}\r\n                  data={[\r\n                    ['Date', 'Sales'],\r\n                    ...summary.dailyOrders.map((x) => [x._id, x.sales]),\r\n                  ]}\r\n                ></Chart>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h2>Categories</h2>\r\n            {summary.productCategories.length === 0 ? (\r\n              <MessageBox>No Category</MessageBox>\r\n            ) : (\r\n              <Chart\r\n                width=\"100%\"\r\n                height=\"400px\"\r\n                chartType=\"PieChart\"\r\n                loader={<div>Loading Chart</div>}\r\n                data={[\r\n                  ['Category', 'Products'],\r\n                  ...summary.productCategories.map((x) => [x._id, x.count]),\r\n                ]}\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\r\nimport './App.css';\r\nimport HomeScreen from './screens/HomeScreen';\r\nimport ProductScreen from './screens/ProductScreen';\r\nimport CartScreen from './screens/CartScreen';\r\nimport SigninScreen from './screens/SigninScreen';\r\nimport { useSelector } from 'react-redux';\r\nimport RegisterScreen from './screens/RegisterScreen';\r\nimport ProductsScreen from './screens/ProductsScreen';\r\nimport ShippingScreen from './screens/ShippingScreen';\r\nimport PaymentScreen from './screens/PaymentScreen';\r\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\r\nimport OrderScreen from './screens/OrderScreen';\r\nimport ProfileScreen from './screens/ProfileScreen';\r\nimport OrdersScreen from './screens/OrdersScreen';\r\nimport  FooterScreen from './screens/FooterScreen';\r\nimport MapScreen from './screens/MapScreen';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport AdminRoute from './components/AdminRoute';\r\nimport SupportScreen from './screens/SupportScreen';\r\nimport ChatBox from './components/ChatBox';\r\nimport DashboardScreen from './screens/DashboardScreen';\r\nfunction App() {\r\n  const cart = useSelector((state) => state.cart);\r\n  const userSignin = useSelector((state) => state.userSignin);\r\n  const { userInfo } = userSignin;\r\nconst { cartItems } = cart;\r\n  const openMenu = () => {\r\n    document.querySelector('.sidebar').classList.add('open');\r\n  };\r\n  const closeMenu = () => {\r\n    document.querySelector('.sidebar').classList.remove('open');\r\n  };\r\n  const Desktop = ({ children }) => {\r\n    const isDesktop = useMediaQuery({ minWidth: 992 })\r\n    return isDesktop ? children : null\r\n  }\r\n  const Tablet = ({ children }) => {\r\n    const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 991 })\r\n    return isTablet ? children : null\r\n  }\r\n  const Mobile = ({ children }) => {\r\n    const isMobile = useMediaQuery({ maxWidth: 767 })\r\n    return isMobile ? children : null\r\n  }\r\n  const Default = ({ children }) => {\r\n    const isNotMobile = useMediaQuery({ minWidth: 768 })\r\n    return isNotMobile ? children : null\r\n  }\r\n  return (\r\n    <>\r\n    <BrowserRouter>\r\n      <div className=\"grid-container\">\r\n        <header className=\"header\">\r\n          <div className=\"brand\">\r\n            <button onClick={openMenu}>&#9776;</button>\r\n            <Link to=\"/\">Vanilla Restaurant</Link>\r\n          </div>\r\n          <div className=\"header-links\">\r\n          <Link to=\"/cart\">Cart {cartItems.length > 0 && (\r\n                <span className=\"badge\">{cartItems.length}</span>\r\n              )}</Link>\r\n            {userInfo ? (\r\n              <Link to=\"/profile\">{userInfo.name}</Link>\r\n            ) : (\r\n              <Link to=\"/signin\">Sign In</Link>\r\n            )}\r\n            {userInfo && userInfo.isAdmin && (\r\n              <div className=\"dropdown\">\r\n                <a href=\"#\">Admin</a>\r\n                <ul className=\"dropdown-content\">\r\n                  <li>\r\n                    <Link to=\"/orders\">Orders</Link>\r\n                    <Link to=\"/products\">Products</Link>\r\n                     <li>\r\n                    <Link to=\"/support\">Support</Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link to=\"/dashboard\">Dashboard</Link>\r\n                  </li>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </header>\r\n        <aside className=\"sidebar\">\r\n          <strong>Food Categories</strong>\r\n          <button className=\"sidebar-close-button\" onClick={closeMenu}>\r\n            x\r\n          </button>\r\n          <ul className=\"categories\">\r\n            <li>\r\n              <Link to=\"/category/BigMeals\">Big Meals</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/category/Breakfast\">Breakfast</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/category/Desserts\">Desserts</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/category/Drinks\">Drinks</Link>\r\n            </li>\r\n          </ul>\r\n        </aside>\r\n        <main className=\"main\">\r\n        {/* <SliderScreen/> */}\r\n          <div className=\"content\">\r\n            <Route path=\"/orders\" component={OrdersScreen}/>\r\n            <Route path=\"/profile\" component={ProfileScreen}/>\r\n            <Route path=\"/order/:id\" component={OrderScreen}/>\r\n            <Route path=\"/products\" component={ProductsScreen}/>\r\n            <Route path=\"/shipping\" component={ShippingScreen}/>\r\n            <Route path=\"/payment\" component={PaymentScreen}/>\r\n            <Route path=\"/placeorder\" component={PlaceOrderScreen}/>\r\n            <Route path=\"/signin\" component={SigninScreen}/>\r\n            <Route path=\"/register\" component={RegisterScreen}/>\r\n            <Route path=\"/product/:id\" component={ProductScreen}/>\r\n            <Route path=\"/cart/:id?\" component={CartScreen}/>\r\n            <Route path=\"/category/:id\" component={HomeScreen}/>\r\n            <Route path=\"/\" exact={true} component={HomeScreen}/>\r\n             <PrivateRoute path=\"/map\" component={MapScreen}></PrivateRoute>\r\n             <AdminRoute\r\n            path=\"/dashboard\"\r\n            component={DashboardScreen}\r\n          ></AdminRoute>\r\n          <AdminRoute path=\"/support\" component={SupportScreen}></AdminRoute>\r\n          </div>\r\n        </main>\r\n        \r\n        <FooterScreen/>\r\n        <div>\r\n          {userInfo && !userInfo.isAdmin && <ChatBox userInfo={userInfo} />}\r\n        </div>\r\n      </div>\r\n    </BrowserRouter>\r\n    <div>\r\n    <Desktop>Desktop or laptop</Desktop>\r\n    <Tablet>Tablet</Tablet>\r\n    <Mobile>Mobile</Mobile>\r\n    <Default>Not mobile (desktop or laptop or tablet)</Default>\r\n  </div>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import {\r\n    ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\r\n    ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL,\r\n    ORDER_PAY_REQUEST, ORDER_PAY_SUCCESS, ORDER_PAY_FAIL,\r\n    MY_ORDER_LIST_REQUEST, MY_ORDER_LIST_SUCCESS, MY_ORDER_LIST_FAIL,\r\n    ORDER_LIST_REQUEST, ORDER_LIST_SUCCESS, ORDER_LIST_FAIL, ORDER_DELETE_REQUEST, ORDER_DELETE_SUCCESS, ORDER_DELETE_FAIL,ORDER_CREATE_RESET, ORDER_SUMMARY_REQUEST,\r\n  ORDER_SUMMARY_SUCCESS,\r\n  ORDER_SUMMARY_FAIL,ORDER_DELIVER_REQUEST,\r\n  ORDER_DELIVER_SUCCESS,\r\n  ORDER_DELIVER_FAIL,\r\n  ORDER_DELIVER_RESET,\r\n  } from \"../constants/orderConstants\";\r\n  \r\n  \r\n  function orderCreateReducer (state = {}, action)  {\r\n    switch (action.type) {\r\n      case ORDER_CREATE_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_CREATE_SUCCESS:\r\n        return { loading: false, order: action.payload, success: true };\r\n      case ORDER_CREATE_FAIL:\r\n        return { loading: false, error: action.payload };\r\n        case ORDER_CREATE_RESET:\r\n      return {};\r\n      default: return state;\r\n    }\r\n  };\r\n  function orderPayReducer(state = {\r\n    order: {\r\n      orderItems: [],\r\n      shipping: {},\r\n      payment: {}\r\n    }\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_PAY_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_PAY_SUCCESS:\r\n        return { loading: false, order: action.payload, success: true };\r\n      case ORDER_PAY_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n  function orderDetailsReducer(state = {\r\n    order: {\r\n      orderItems: [],\r\n      shipping: {},\r\n      payment: {}\r\n    }\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_DETAILS_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_DETAILS_SUCCESS:\r\n        return { loading: false, order: action.payload, success: true };\r\n      case ORDER_DETAILS_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n  function myOrderListReducer(state = { orders: [] }, action) {\r\n    switch (action.type) {\r\n      case MY_ORDER_LIST_REQUEST:\r\n        return { loading: true };\r\n      case MY_ORDER_LIST_SUCCESS:\r\n        return { loading: false, orders: action.payload, success: true };\r\n      case MY_ORDER_LIST_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n  function orderListReducer(state = { orders: [] }, action) {\r\n    switch (action.type) {\r\n      case ORDER_LIST_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_LIST_SUCCESS:\r\n        return { loading: false, orders: action.payload, success: true };\r\n      case ORDER_LIST_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n  function  orderDeleteReducer(state = {\r\n    order: {\r\n      orderItems: [],\r\n      shipping: {},\r\n      payment: {}\r\n    }\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_DELETE_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_DELETE_SUCCESS:\r\n        return { loading: false, order: action.payload, success: true };\r\n      case ORDER_DELETE_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n  export const orderSummaryReducer = (\r\n  state = { loading: true, summary: {} },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ORDER_SUMMARY_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_SUMMARY_SUCCESS:\r\n      return { loading: false, summary: action.payload };\r\n    case ORDER_SUMMARY_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ORDER_DELIVER_REQUEST:\r\n      return { loading: true };\r\n    case ORDER_DELIVER_SUCCESS:\r\n      return { loading: false, success: true };\r\n    case ORDER_DELIVER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case ORDER_DELIVER_RESET:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n  export {\r\n    orderCreateReducer,\r\n    orderDetailsReducer,\r\n    orderPayReducer,\r\n    myOrderListReducer,\r\n    orderListReducer,\r\n    orderDeleteReducer,\r\n  };","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport Cookie from 'js-cookie';\r\nimport {\r\n  productListReducer,\r\n  productDetailsReducer,\r\n  productSaveReducer,\r\n  productDeleteReducer,\r\n  productReviewSaveReducer,\r\n} from './reducers/productReducers';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport {\r\n  userSigninReducer,\r\n  userRegisterReducer,\r\n  userUpdateReducer,\r\n  userAddressMapReducer,\r\n} from './reducers/userReducers';\r\nimport {\r\n  orderCreateReducer,\r\n  orderDetailsReducer,\r\n  orderPayReducer,\r\n  myOrderListReducer,\r\n  orderListReducer,\r\n  orderDeleteReducer,orderSummaryReducer,\r\n} from './reducers/orderReducers';\r\n\r\nconst cartItems = Cookie.getJSON('cartItems') || [];\r\nconst userInfo = Cookie.getJSON('userInfo') || null;\r\n\r\nconst initialState = {\r\n  cart: { cartItems, shipping: {}, payment: {} },\r\n  userSignin: { userInfo },\r\n};\r\nconst reducer = combineReducers({\r\n  productList: productListReducer,\r\n  productDetails: productDetailsReducer,\r\n  cart: cartReducer,\r\n  userSignin: userSigninReducer,\r\n  userRegister: userRegisterReducer,\r\n  productSave: productSaveReducer,\r\n  productDelete: productDeleteReducer,\r\n  productReviewSave: productReviewSaveReducer,\r\n  orderCreate: orderCreateReducer,\r\n  orderDetails: orderDetailsReducer,\r\n  orderPay: orderPayReducer,\r\n  userUpdate: userUpdateReducer,\r\n  myOrderList: myOrderListReducer,\r\n  orderList: orderListReducer,\r\n  orderDelete: orderDeleteReducer,\r\n  userAddressMap: userAddressMapReducer,\r\n  orderSummary: orderSummaryReducer,\r\n});\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer,\r\n  initialState,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\nexport default store;","import {\r\n    PRODUCT_LIST_REQUEST,\r\n    PRODUCT_LIST_SUCCESS,\r\n    PRODUCT_LIST_FAIL,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_DETAILS_FAIL,\r\n    PRODUCT_SAVE_REQUEST,\r\n    PRODUCT_SAVE_SUCCESS,\r\n    PRODUCT_SAVE_FAIL,\r\n    PRODUCT_DELETE_REQUEST,\r\n    PRODUCT_DELETE_SUCCESS,\r\n    PRODUCT_DELETE_FAIL,\r\n    PRODUCT_REVIEW_SAVE_SUCCESS,\r\n    PRODUCT_REVIEW_SAVE_REQUEST,\r\n    PRODUCT_REVIEW_SAVE_FAIL,\r\n    PRODUCT_REVIEW_SAVE_RESET,\r\n  } from '../constants/productConstants';\r\n  \r\n  function productListReducer(state = { products: [] }, action) {\r\n    switch (action.type) {\r\n      case PRODUCT_LIST_REQUEST:\r\n        return { loading: true, products: [] };\r\n      case PRODUCT_LIST_SUCCESS:\r\n        return { loading: false, products: action.payload };\r\n      case PRODUCT_LIST_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  function productDetailsReducer(state = { product: { reviews: [] } }, action) {\r\n    switch (action.type) {\r\n      case PRODUCT_DETAILS_REQUEST:\r\n        return { loading: true };\r\n      case PRODUCT_DETAILS_SUCCESS:\r\n        return { loading: false, product: action.payload };\r\n      case PRODUCT_DETAILS_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  function productDeleteReducer(state = { product: {} }, action) {\r\n    switch (action.type) {\r\n      case PRODUCT_DELETE_REQUEST:\r\n        return { loading: true };\r\n      case PRODUCT_DELETE_SUCCESS:\r\n        return { loading: false, product: action.payload, success: true };\r\n      case PRODUCT_DELETE_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  function productSaveReducer(state = { product: {} }, action) {\r\n    switch (action.type) {\r\n      case PRODUCT_SAVE_REQUEST:\r\n        return { loading: true };\r\n      case PRODUCT_SAVE_SUCCESS:\r\n        return { loading: false, success: true, product: action.payload };\r\n      case PRODUCT_SAVE_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  function productReviewSaveReducer(state = {}, action) {\r\n    switch (action.type) {\r\n      case PRODUCT_REVIEW_SAVE_REQUEST:\r\n        return { loading: true };\r\n      case PRODUCT_REVIEW_SAVE_SUCCESS:\r\n        return { loading: false, review: action.payload, success: true };\r\n      case PRODUCT_REVIEW_SAVE_FAIL:\r\n        return { loading: false, errror: action.payload };\r\n      case PRODUCT_REVIEW_SAVE_RESET:\r\n        return {};\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  export {\r\n    productListReducer,\r\n    productDetailsReducer,\r\n    productSaveReducer,\r\n    productDeleteReducer,\r\n    productReviewSaveReducer,\r\n  };","import { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_SHIPPING, CART_SAVE_PAYMENT } from \"../constants/cartConstants\";\r\n\r\nfunction cartReducer(state = { cartItems: [], shipping: {}, payment: {} }, action) {\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload;\r\n      const product = state.cartItems.find(x => x.product === item.product);\r\n      if (product) {\r\n        return {\r\n          cartItems:\r\n            state.cartItems.map(x => x.product === product.product ? item : x)\r\n        };\r\n      }\r\n      return { cartItems: [...state.cartItems, item] };\r\n    case CART_REMOVE_ITEM:\r\n      return { cartItems: state.cartItems.filter(x => x.product !== action.payload) };\r\n    case CART_SAVE_SHIPPING:\r\n      return { ...state, shipping: action.payload };\r\n    case CART_SAVE_PAYMENT:\r\n      return { ...state, payment: action.payload };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport { cartReducer }","import { USER_ADDRESS_MAP_CONFIRM,USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL } from \"../constants/userConstants\";\r\n\r\nfunction userSigninReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case USER_SIGNIN_REQUEST:\r\n      return { loading: true };\r\n    case USER_SIGNIN_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_SIGNIN_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    case USER_LOGOUT:\r\n      return {};\r\n    default: return state;\r\n  }\r\n}\r\n\r\nfunction userUpdateReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case USER_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\n\r\nfunction userRegisterReducer(state = {}, action) {\r\n  switch (action.type) {\r\n    case USER_REGISTER_REQUEST:\r\n      return { loading: true };\r\n    case USER_REGISTER_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_REGISTER_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\nexport const userAddressMapReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_ADDRESS_MAP_CONFIRM:\r\n      return { address: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport {\r\n  userSigninReducer, userRegisterReducer, userUpdateReducer\r\n}","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './store';\r\nimport { BrowserRouter} from 'react-router-dom';\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n  </BrowserRouter>, document.getElementById('root'));\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n"],"sourceRoot":""}